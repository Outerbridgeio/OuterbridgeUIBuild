(this["webpackJsonpouterbridge-ui"]=this["webpackJsonpouterbridge-ui"]||[]).push([[12],{258:function(e,t,n){"use strict";var a=n(7),r=n(9),c=n(26),i=n(186),o=n(676),s=n(104),l=n(151),d=n(209),j=n(682),u=n(684),b=n(677),O=n(1),h=function(){return Object(O.jsx)(j.a,{children:Object(O.jsx)(u.a,{children:Object(O.jsxs)(o.a,{container:!0,direction:"column",children:[Object(O.jsx)(o.a,{item:!0,children:Object(O.jsxs)(o.a,{container:!0,justifyContent:"space-between",children:[Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(b.a,{variant:"rectangular",width:44,height:44})}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(b.a,{variant:"rectangular",width:34,height:34})})]})}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(b.a,{variant:"rectangular",sx:{my:2},height:40})}),Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(b.a,{variant:"rectangular",height:30})})]})})})},x=n(34),f=n(285),p=n.n(f),m=Object(r.a)(d.a)((function(e){return{backgroundColor:"#ffffff",color:e.theme.darkTextPrimary,overflow:"hidden",position:"relative",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",cursor:"pointer","&:hover":{boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)"}}}));t.a=function(e){var t=e.isLoading,n=e.data,r=e.images,d=e.onClick,j=Object(c.a)(),u={height:24,padding:"0 6px"},b=Object(a.a)(Object(a.a)({},u),{},{color:j.palette.success.dark,backgroundColor:j.palette.success.light}),w=function(e){return x.f.find((function(t){return t.name===e}))};return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)(h,{}):Object(O.jsx)(m,{border:!1,content:!1,onClick:d,children:Object(O.jsx)(i.a,{sx:{p:2.25},children:Object(O.jsxs)(o.a,{container:!0,direction:"column",children:[Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.address&&Object(O.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",marginRight:10},children:Object(O.jsx)(p.a,{diameter:40,seed:Object(f.jsNumberForAddress)(n.address)})}),Object(O.jsx)(s.a,{sx:{fontSize:"1.5rem",fontWeight:500},children:n.name})]}),Object(O.jsxs)(o.a,{sx:{mt:1,mb:1},container:!0,direction:"row",children:[Object(O.jsxs)(o.a,{item:!0,sx:{flexGrow:1},children:[n.address&&Object(O.jsx)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:j.palette.secondary[200],overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:250},children:"".concat(n.address.substring(0,8),"...").concat(n.address.slice(-4))}),n.flowData&&Object(O.jsxs)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:j.palette.secondary[200]},children:["Total Executions: ",n.executionCount||"0"]})]}),n.deployed&&Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(l.a,{label:"Deployed",sx:b})})]}),n.network&&Object(O.jsx)(o.a,{item:!0,children:Object(O.jsx)(l.a,{label:w(n.network).label,sx:Object(a.a)(Object(a.a)({},u),{},{backgroundColor:w(n.network).color,color:"white"})})}),r&&Object(O.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:10},children:r.map((function(e){return Object(O.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white"},children:Object(O.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:e})},e)}))})]})})})})}},674:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),c=n(658),i=n(676),o=n(186),s=n(678),l=n(26),d=n(209),j=n(258),u=n(19),b=n(3),O=n(7),h=n(203),x=n(218),f=n(24),p=n(25),m=n(16),w=n(690),g=n(661),v=n(691),y=n(104),k=n(688),C=n(680),I=n(692),S=n(150),D=n(693),T=n(188),N=n(694),E=n(237),B=n.n(E),A=n(238),M=n(220),R=n.n(M),P=n(281),V=n(282),W=n(274),q=n(33),F=n(214),J=function(){return F.a.get("/wallets")},K=function(e){return F.a.get("/wallets/".concat(e))},z=function(e){return F.a.post("/wallets",e)},G=function(e,t){return F.a.put("/wallets/".concat(e),t)},L=function(e){return F.a.delete("/wallets/".concat(e))},_=function(e){return F.a.get("/wallets/credential/".concat(e))},Y=n(215),H=n(34),Q=n(207),U=n(255),X=n(1),Z=function(e){var t=e.show,n=e.dialogProps,i=e.onCancel,d=e.onConfirm,j=document.getElementById("portal"),E=Object(l.a)(),M=Object(p.b)();Object(U.a)();var F=function(){return M(m.o.apply(void 0,arguments))},J=function(){return M(m.n.apply(void 0,arguments))},Z=Object(r.useState)(H.h),$=Object(a.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)({}),ae=Object(a.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(r.useState)([]),oe=Object(a.a)(ie,2),se=oe[0],le=oe[1],de=Object(r.useState)({}),je=Object(a.a)(de,2),ue=je[0],be=je[1],Oe=Object(r.useState)({}),he=Object(a.a)(Oe,2),xe=he[0],fe=he[1],pe=Object(r.useState)({}),me=Object(a.a)(pe,2),we=me[0],ge=me[1],ve=Object(r.useState)(!1),ye=Object(a.a)(ve,2),ke=ye[0],Ce=ye[1],Ie=Object(r.useState)(!1),Se=Object(a.a)(Ie,2),De=Se[0],Te=Se[1],Ne=Object(r.useState)(!1),Ee=Object(a.a)(Ne,2),Be=Ee[0],Ae=Ee[1],Me=Object(r.useState)({}),Re=Object(a.a)(Me,2),Pe=Re[0],Ve=Re[1],We=["networks","credentials","walletInfo"],qe=Object(Y.a)(K),Fe=Object(Y.a)(_),Je=function(e){return function(t,n){Ce(!!n&&e)}},Ke=function(){ce({}),le([]),be({}),fe({}),ge({}),Te(!1),Ce(!1)},ze=function(e,t,n){Ve({input:e,values:t,arrayItemBody:n,cancelButtonName:"Cancel",confirmButtonName:"Save",hideVariables:!0}),Ae(!0)},Ge=function(){var e=Object(x.a)(Object(h.a)().mark((function e(t){var n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={network:re.networks.network,name:re.walletInfo.name,providerCredential:JSON.stringify(re.credentials)},"IMPORT"===t&&(n.privateKey=re.walletInfo.privateKey),e.next=4,z(n);case 4:e.sent.data?(F({message:"New wallet added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),d()):(F({message:"Failed to add new wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),i());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(x.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={network:re.networks.network,name:re.walletInfo.name,providerCredential:JSON.stringify(re.credentials)},e.next=3,G(n.id,t);case 3:e.sent.data?(F({message:"Wallet saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),d()):(F({message:"Failed to save wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),i());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(x.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(n.id);case 2:e.sent.data?(F({message:"Wallet deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),d()):(F({message:"Failed to delete wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(X.jsx)(s.a,{style:{color:"white"},onClick:function(){return J(e)},children:Object(X.jsx)(q.B,{})})}}}),i());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(e,t){var n=Object(O.a)(Object(O.a)({},re),{},Object(b.a)({},t,e)),a=We.indexOf(t);if(a>=0&&a!==We.length-1)for(var r=a+1;r<We.length;r+=1){var c=We[r];n[c]&&(n[c].submit=null)}ce(n)},He=function(){var e=Object(x.a)(Object(h.a)().mark((function e(t,n){var a,r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(O.a)(Object(O.a)({},re),{},Object(b.a)({},n,t)),ce(a),(r=We.indexOf(n))>=0&&r!==We.length-1?Ce(We[r+1]):r===We.length-1&&Ce(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(e,t){for(var n=t,a=[],r=function(t){var r=n[t],c=r[e];c&&Object.keys(c).forEach((function(t){var n=c[t],i=R.a.get(re,t,"");Array.isArray(n)&&("show"!==e||n.includes(i)||a.push(r),"hide"===e&&n.includes(i)&&a.push(r))}))},c=0;c<n.length;c+=1)r(c);for(var i=function(e){n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(a[e])}))},o=0;o<a.length;o+=1)i(o);return n},Ue=function(e){var t,a={},r=function(e){for(var t=e,n=0;n<t.length;n+=1){var a=t[n];"options"===a.type&&(a.options=Qe("show",a.options),a.options=Qe("hide",a.options))}return t}(R.a.cloneDeep(ee[e]||[]));(r=Object(Q.m)(r,e,ee[e],re),"IMPORT"===n.type&&"walletInfo"===e)&&(t=r).push.apply(t,Object(u.a)(H.g));for(var c=function(t){var n=r[t];e in re&&n.name in re[e]?(a[n.name]=re[e][n.name],"options"===n.type&&(n.options.find((function(e){return e.name===a[n.name]}))||delete a[n.name])):a[n.name]=n.default||""},i=0;i<r.length;i+=1)c(i);a.submit=null,be(a),fe(function(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];"string"!==a.type||a.optional?"number"!==a.type||a.optional?"options"!==a.type&&"asyncOptions"!==a.type||a.optional||(t[a.name]=A.c().required("".concat(a.label," is required. Type: ").concat(a.type))):t[a.name]=A.a().required("".concat(a.label," is required. Type: ").concat(a.type)):t[a.name]=A.c().required("".concat(a.label," is required. Type: ").concat(a.type))}return t}(r)),le(r)},Xe=function(e,t){var n={networks:{},credentials:{},walletInfo:{}};if(e){if(n.networks={network:e.network,submit:!0},n.walletInfo=Object(O.a)(Object(O.a)({},e),{},{submit:!0}),e.providerCredential)try{n.credentials=JSON.parse(e.providerCredential)}catch(a){console.error(a)}}else n.networks=Object(Q.n)(t.networks),n.credentials=Object(Q.n)(t.credentials),n.walletInfo=Object(Q.n)(t.walletInfo);return n};Object(r.useEffect)((function(){if(qe.data){var e=qe.data;ce(Xe(e)),Ce("networks")}}),[qe.data]),Object(r.useEffect)((function(){if(Fe.data){var e=Fe.data;ge(e)}}),[Fe.data]),Object(r.useEffect)((function(){!t||"ADD"!==n.type&&"IMPORT"!==n.type?t&&"EDIT"===n.type&&n.id&&(Ke(),qe.request(n.id)):(Ke(),ce(Xe(null,ee)),Ce("networks"))}),[t,n]),Object(r.useEffect)((function(){ee&&re&&ke&&(Ue(ke),function(){for(var e=0;e<We.length;e+=1){var t=We[e];if(!re[t]||!re[t].submit)return void Te(!1)}Te(!0)}())}),[ee,re,ke]);var Ze=t?Object(X.jsxs)(w.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(X.jsx)(g.a,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:n.title}),Object(X.jsxs)(v.a,{children:[re&&re.walletInfo&&re.walletInfo.address&&"EDIT"===n.type&&Object(X.jsxs)(o.a,{sx:{p:2},children:[Object(X.jsx)(y.a,{sx:{p:1},variant:"overline",children:"BALANCE"}),Object(X.jsx)(y.a,{sx:{p:1,mb:1},variant:"h3",children:re.walletInfo.balance}),Object(X.jsx)(y.a,{sx:{p:1},variant:"overline",children:"ADDRESS"}),Object(X.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(X.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:E.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:re.walletInfo.address}),Object(X.jsx)(k.a,{title:"Copy Address",color:"primary",onClick:function(){return navigator.clipboard.writeText(re.walletInfo.address)},children:Object(X.jsx)(q.h,{})}),Object(X.jsx)(k.a,{title:"Open in Block Explorer",color:"primary",onClick:function(){return window.open("".concat(H.e[re.networks.network],"/address/").concat(re.walletInfo.address),"_blank")},children:Object(X.jsx)(q.a,{})})]}),we&&we.privateKey&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(y.a,{sx:{p:1},variant:"overline",children:"PRIVATE KEY"}),Object(X.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(X.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:E.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:we.privateKey}),Object(X.jsx)(k.a,{title:"Copy Key",color:"primary",onClick:function(){return navigator.clipboard.writeText(we.privateKey)},children:Object(X.jsx)(q.h,{})})]})]}),we&&we.mnemonic&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(y.a,{sx:{p:1},variant:"overline",children:"mnemonic"}),Object(X.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(X.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:E.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:we.mnemonic}),Object(X.jsx)(k.a,{title:"Copy Mnemonic",color:"primary",onClick:function(){return navigator.clipboard.writeText(we.mnemonic)},children:Object(X.jsx)(q.h,{})})]})]}),!Object.keys(we).length&&Object(X.jsx)(s.a,{size:"small",sx:{ml:1},variant:"contained",startIcon:Object(X.jsx)(q.o,{}),onClick:function(){return Fe.request(n.id)},children:"View PrivateKey and Mnemonic"})]}),Object(X.jsxs)(o.a,{sx:{p:2},children:[Object(X.jsxs)(C.a,{expanded:"networks"===ke,onChange:Je("networks"),children:[Object(X.jsxs)(I.a,{expandIcon:Object(X.jsx)(B.a,{}),"aria-controls":"networks-content",id:"networks-header",children:[Object(X.jsx)(y.a,{variant:"h4",children:"Networks"}),re&&re.networks&&re.networks.submit&&Object(X.jsx)(S.a,{variant:"rounded",sx:Object(O.a)(Object(O.a)({},E.typography.smallAvatar),{},{borderRadius:"50%",background:E.palette.success.dark,color:"white",ml:2}),children:Object(X.jsx)(q.d,{})})]}),Object(X.jsx)(D.a,{children:Object(X.jsx)(P.a,{paramsType:"networks",params:se,initialValues:ue,nodeParamsValidation:xe,valueChanged:Ye,onSubmit:He,setVariableSelectorState:function(){return null},onEditVariableDialogOpen:ze})})]}),Object(X.jsx)(T.a,{})]}),Object(X.jsxs)(o.a,{sx:{p:2},children:[Object(X.jsxs)(C.a,{expanded:"credentials"===ke,onChange:Je("credentials"),children:[Object(X.jsxs)(I.a,{expandIcon:Object(X.jsx)(B.a,{}),"aria-controls":"credentials-content",id:"credentials-header",children:[Object(X.jsx)(y.a,{variant:"h4",children:"Credentials"}),re&&re.credentials&&re.credentials.submit&&Object(X.jsx)(S.a,{variant:"rounded",sx:Object(O.a)(Object(O.a)({},E.typography.smallAvatar),{},{borderRadius:"50%",background:E.palette.success.dark,color:"white",ml:2}),children:Object(X.jsx)(q.d,{})})]}),Object(X.jsx)(D.a,{children:Object(X.jsx)(V.a,{paramsType:"credentials",initialParams:se,initialValues:ue,initialValidation:xe,valueChanged:Ye,paramsChanged:function(e,t){var n=e.find((function(e){return"credentialMethod"===e.name})),a=e.findIndex((function(e){return"credentialMethod"===e.name}));if(void 0!==n){var r=ee[t].find((function(e){return"credentialMethod"===e.name}));void 0!==r&&(e[a].options=r.options)}var c=Object(O.a)(Object(O.a)({},ee),{},Object(b.a)({},t,e));te(c)},onSubmit:He})})]}),Object(X.jsx)(T.a,{})]}),Object(X.jsxs)(o.a,{sx:{p:2},children:[Object(X.jsxs)(C.a,{expanded:"walletInfo"===ke,onChange:Je("walletInfo"),children:[Object(X.jsxs)(I.a,{expandIcon:Object(X.jsx)(B.a,{}),"aria-controls":"walletInfo-content",id:"walletInfo-header",children:[Object(X.jsx)(y.a,{variant:"h4",children:"Wallet Details"}),re&&re.walletInfo&&re.walletInfo.submit&&Object(X.jsx)(S.a,{variant:"rounded",sx:Object(O.a)(Object(O.a)({},E.typography.smallAvatar),{},{borderRadius:"50%",background:E.palette.success.dark,color:"white",ml:2}),children:Object(X.jsx)(q.d,{})})]}),Object(X.jsx)(D.a,{children:Object(X.jsx)(P.a,{paramsType:"walletInfo",params:se,initialValues:ue,nodeParamsValidation:xe,valueChanged:Ye,onSubmit:He,setVariableSelectorState:function(){return null},onEditVariableDialogOpen:ze})})]}),Object(X.jsx)(T.a,{})]}),Object(X.jsx)(W.a,{show:Be,dialogProps:Pe,onCancel:function(){return Ae(!1)},onConfirm:function(e){Ye(e,ke),Ae(!1)}},JSON.stringify(Pe))]}),Object(X.jsxs)(N.a,{children:[Object(X.jsx)(s.a,{onClick:i,children:n.cancelButtonName}),"EDIT"===n.type&&Object(X.jsx)(s.a,{variant:"contained",color:"error",onClick:function(){return _e()},children:"Delete"}),Object(X.jsx)(s.a,{variant:"contained",disabled:!De,onClick:function(){return"ADD"===n.type||"IMPORT"===n.type?Ge(n.type):Le()},children:n.confirmButtonName})]})]}):null;return Object(f.createPortal)(Ze,j)},$=n.p+"static/media/wallet_empty.f647428f.svg";t.default=function(){var e=Object(l.a)(),t=Object(r.useState)(!0),n=Object(a.a)(t,2),u=n[0],b=n[1],O=Object(r.useState)(!1),h=Object(a.a)(O,2),x=h[0],f=h[1],p=Object(r.useState)({}),m=Object(a.a)(p,2),w=m[0],g=m[1],v=Object(Y.a)(J);return Object(r.useEffect)((function(){v.request()}),[]),Object(r.useEffect)((function(){b(v.loading)}),[v.loading]),Object(X.jsxs)(X.Fragment,{children:[Object(X.jsxs)(d.a,{children:[Object(X.jsxs)(c.a,{flexDirection:"row",children:[Object(X.jsx)("h1",{children:"Wallets"}),Object(X.jsxs)(i.a,{sx:{mb:1.25},container:!0,direction:"row",children:[Object(X.jsx)(o.a,{sx:{flexGrow:1}}),Object(X.jsxs)(i.a,{item:!0,children:[Object(X.jsx)(s.a,{variant:"contained",sx:{color:"white",mr:2},onClick:function(){g({title:"Add New Wallet",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),f(!0)},children:"Add New"}),Object(X.jsx)(s.a,{variant:"contained",sx:{color:"white",backgroundColor:e.palette.secondary.main},onClick:function(){g({title:"Import Wallet",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"IMPORT"}),f(!0)},children:"Import Wallet"})]})]})]}),Object(X.jsx)(i.a,{container:!0,spacing:H.d,children:!u&&v.data&&v.data.map((function(e,t){return Object(X.jsx)(i.a,{item:!0,lg:4,md:6,sm:6,xs:12,children:Object(X.jsx)(j.a,{isLoading:u,onClick:function(){return t=e._id,g({title:"Edit Wallet",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",id:t}),void f(!0);var t},data:e})},t)}))}),!u&&(!v.data||0===v.data.length)&&Object(X.jsxs)(c.a,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[Object(X.jsx)(o.a,{sx:{p:2,height:"auto"},children:Object(X.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:$,alt:"WalletEmptySVG"})}),Object(X.jsx)("div",{children:"No Wallets Yet"})]})]}),Object(X.jsx)(Z,{show:x,dialogProps:w,onCancel:function(){return f(!1)},onConfirm:function(){f(!1),v.request()}})]})}}}]);
//# sourceMappingURL=12.f986eeba.chunk.js.map