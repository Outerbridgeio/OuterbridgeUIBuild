(this["webpackJsonpouterbridge-ui"]=this["webpackJsonpouterbridge-ui"]||[]).push([[9,3],{212:function(e,t,n){"use strict";n.d(t,"o",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"n",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"m",(function(){return w})),n.d(t,"e",(function(){return C}));var a=n(7),r=n(19),i=n(224),c=n.n(i),o=n(309),s=n.n(o),l=/^(\d+\.?\d*|{{.*}})$/,d=function(e,t,n){var a=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={},r={},i=0;i<e.length;i+=1){var c=e[i].id;r[c]=0,a[c]=[]}for(var o=0;o<t.length;o+=1){var s=t[o].source,l=t[o].target;Object.prototype.hasOwnProperty.call(a,s)?a[s].push(l):a[s]=[l],n&&(Object.prototype.hasOwnProperty.call(a,l)?a[l].push(s):a[l]=[s]),r[l]+=1}return{graph:a,nodeDependencies:r}}(e,t,!0),i=function(e,t,n){var a=[],r=[];a.push(e),r.push(e);for(var i=function(){var e=a.shift()||"",i=[],c=t.filter((function(t){return t.target===e&&t.targetHandle.includes("-input-")}));if(c&&c.length)for(var o=0;o<c.length;o+=1)i.push(c[o].source);for(var s=n[e],l=0;l<s.length;l+=1){var d=s[l];i.includes(d)&&(r.includes(d)||(r.push(d),a.push(d)))}};a.length;)i();return r}(n,t,a.graph),c=new Set(i);return c.delete(n),Object(r.a)(c)},u=function(){var e="abcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:15}).map((function(){return e.charAt(Math.floor(Math.random()*e.length))})).join("")},j=function(e,t){for(var n=0,a=0;a<t.length;a+=1){t[a].data.name===e.name&&(n+=1)}for(var r="".concat(e.name,"_").concat(n),i=0;i<t.length;i+=1){t[i].id===r&&(n+=1,r="".concat(e.name,"_").concat(n))}return r},b=function(e,t){for(var n=0;n<t.length;n+=1){if(t[n].data.label===e)return!1}return!0},h=function(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];if(t[a.name]=a.default||"","array"===a.type&&!a.default){for(var r={},i=0;i<a.array.length;i+=1)r[a.array[i].name]=a.array[i].default||"";t[a.name]=[r]}}return t.submit=null,t},p=function(e,t,n){for(var a=e.incoming||0,r=e.outgoing||0,i=[],c=0;c<a;c+=1){var o={id:"".concat(n,"-input-").concat(c)};i.push(o)}for(var s=[],l=0;l<r;l+=1){var d={id:"".concat(n,"-output-").concat(l)};s.push(d)}return e.inputAnchors=i,e.outputAnchors=s,e.label=function(e,t){for(var n=0,a=0;a<t.length;a+=1)t[a].data.name===e.name&&(n+=1);for(var r="".concat(e.label,"_").concat(n),i=0;i<t.length;i+=1)t[i].data.label===r&&(n+=1,r="".concat(e.label,"_").concat(n));return 0===n?e.label:r}(e,t),e.actions&&(e.actions=h(e.actions)),e.credentials&&(e.credentials=h(e.credentials)),e.networks&&(e.networks=h(e.networks)),e.inputParameters&&(e.inputParameters=h(e.inputParameters)),e},f=function(e){var t=e.split("-");return t.length&&t[0].includes("ifElse")?"0"===t[t.length-1]?"true":"false":""},O=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if("webhook"===n.data.type||"trigger"===n.data.type)return!0}return!1},x=function(e){if(void 0!==e&&e){var t=s()(e);if(t.isValid)return new Date(t.year(),t.month(),t.date(),t.hours(),t.minutes())}},m=function(e){var t=e.split(",");return t[t.length-1].split(":")[1]},g=function(e){try{for(var t=JSON.parse(e),n=[],a=0;a<t.length;a+=1){var r=t[a].split(","),i=r[r.length-1].split(":")[1];n.push(i)}return n.length?n.join(","):""}catch(c){return""}},v=function(e){for(var t=e.nodes,n=e.edges,r=0;r<t.length;r+=1){t[r].selected=!1;var i=t[r],c={label:i.data.label,name:i.data.name,type:i.data.type,inputAnchors:i.data.inputAnchors,outputAnchors:i.data.outputAnchors,selected:!1};i.data.inputParameters&&(c.inputParameters=Object(a.a)(Object(a.a)({},i.data.inputParameters),{},{submit:null}),i.data.inputParameters.wallet&&delete c.inputParameters.wallet),i.data.actions&&(c.actions=Object(a.a)(Object(a.a)({},i.data.actions),{},{submit:null}),i.data.actions.wallet&&delete c.actions.wallet),i.data.networks&&(c.networks=Object(a.a)(Object(a.a)({},i.data.networks),{},{submit:null}),i.data.networks.wallet&&delete c.networks.wallet),i.data.credentials&&i.data.credentials.credentialMethod&&(c.credentials={credentialMethod:i.data.credentials.credentialMethod,submit:null},i.data.credentials.wallet&&delete c.credentials.wallet),t[r].data=c}return{nodes:t,edges:n}},y=function(e,t,n){if(n[t]&&n[t].credentialMethod){for(var a=e,r=0;r<a.length;r+=1){var i=a[r];if("options"===i.type){var c=i.options.find((function(e){return e.name===n[t].credentialMethod}));if(c&&void 0!==c&&c.hideRegisteredCredential)return!0}}return!1}},w=function(e,t,n,a){return"credentials"!==t||void 0!==e.find((function(e){return"registeredCredential"===e.name}))||void 0===e.find((function(e){return"credentialMethod"===e.name}))||y(c.a.cloneDeep(n),t,a)?("credentials"===t&&void 0!==e.find((function(e){return"registeredCredential"===e.name}))&&void 0!==e.find((function(e){return"credentialMethod"===e.name}))&&y(c.a.cloneDeep(n),t,a)||"credentials"===t&&void 0===e.find((function(e){return"credentialMethod"===e.name})))&&(e=e.filter((function(e){return"registeredCredential"!==e.name}))):e.push({name:"registeredCredential"}),e},C=function(e){var t=e.src;Array.isArray(t)||"object"===typeof t?navigator.clipboard.writeText(JSON.stringify(t,null,"  ")):navigator.clipboard.writeText(t)}},214:function(e,t,n){"use strict";var a=n(7),r=n(215),i=n(0),c=n(26),o=n(691),s=n(692),l=n(108),d=n(193),u=n(693),j=n(1),b=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],h={"& .MuiCardHeader-action":{mr:0}},p=Object(i.forwardRef)((function(e,t){var n=e.border,i=void 0===n||n,p=e.boxShadow,f=e.children,O=e.content,x=void 0===O||O,m=e.contentClass,g=void 0===m?"":m,v=e.contentSX,y=void 0===v?{}:v,w=e.darkTitle,C=e.secondary,k=e.shadow,S=e.sx,I=void 0===S?{}:S,B=e.title,D=Object(r.a)(e,b),R=Object(c.a)();return Object(j.jsxs)(o.a,Object(a.a)(Object(a.a)({ref:t},D),{},{sx:Object(a.a)({border:i?"1px solid":"none",borderColor:R.palette.primary[200]+75,":hover":{boxShadow:p?k||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"}},I),children:[!w&&B&&Object(j.jsx)(s.a,{sx:h,title:B,action:C}),w&&B&&Object(j.jsx)(s.a,{sx:h,title:Object(j.jsx)(l.a,{variant:"h3",children:B}),action:C}),B&&Object(j.jsx)(d.a,{}),x&&Object(j.jsx)(u.a,{sx:y,className:g,children:f}),!x&&f]}))}));t.a=p},219:function(e,t,n){"use strict";var a=n(254),r=n.n(a),i=n(34),c=r.a.create({baseURL:"".concat(i.a,"/api/v1"),headers:{"Content-type":"application/json"}});t.a=c},220:function(e,t,n){"use strict";var a=n(208),r=n(223),i=n(15),c=n(0);t.a=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),o=n[0],s=n[1],l=Object(c.useState)(null),d=Object(i.a)(l,2),u=d[0],j=d[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),p=h[0],f=h[1],O=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r=arguments;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,e.apply(void 0,r);case 4:n=t.sent,s(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),j(t.t0||"Unexpected Error!");case 11:return t.prev=11,f(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return{data:o,error:u,loading:p,request:O}}},242:function(e,t,n){},245:function(e,t,n){"use strict";var a=n(15),r=n(0),i=n(710),c=n(675),o=n(1),s=Object(r.forwardRef)((function(e,t){var n,r,s,l,d=e.children,u=e.type,j=e.direction,b=e.offset,h=e.scale;switch(j){case"up":case"left":s=b,l=0;break;default:s=0,l=b}var p=Object(i.a)(s,l),f=Object(a.a)(p,2),O=f[0],x=f[1],m=Object(i.a)(s,l),g=Object(a.a)(m,2),v=g[0],y=g[1];switch(u){case"rotate":return Object(o.jsx)(c.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===j||"down"===j?Object(o.jsx)(c.a.div,{ref:t,animate:{y:void 0!==v?v:""},onHoverEnd:function(){return y()},onHoverStart:function(){return y()},children:d}):Object(o.jsx)(c.a.div,{ref:t,animate:{x:void 0!==O?O:""},onHoverEnd:function(){return x()},onHoverStart:function(){return x()},children:d});default:return"number"===typeof h&&(h={hover:h,tap:h}),Object(o.jsx)(c.a.div,{ref:t,whileHover:{scale:null===(n=h)||void 0===n?void 0:n.hover},whileTap:{scale:null===(r=h)||void 0===r?void 0:r.tap},children:d})}}));s.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=s},247:function(e,t,n){"use strict";var a=n(24),r=n(699),i=n(670),c=n(700),o=n(229),s=n.n(o),l=n(212),d=n(1);t.a=function(e){var t=e.show,n=e.dialogProps,o=e.onCancel,u=e.onCopyClick,j=e.enableClipboard,b=document.getElementById("portal"),h=t?Object(d.jsxs)(r.a,{open:t,fullWidth:!0,maxWidth:"md",onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(i.a,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:n.title}),Object(d.jsxs)(c.a,{children:[!j&&Object(d.jsx)(s.a,{src:n.data,enableClipboard:function(e){return Object(l.e)(e)}}),j&&Object(d.jsx)(s.a,{src:n.data,enableClipboard:function(e){return u(e,n.node)}})]})]}):null;return Object(a.createPortal)(h,b)}},260:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}},264:function(e,t,n){"use strict";var a=n(7),r=n(19),i=n(0),c=n.n(i),o=n(25),s=n(90),l=n(16),d=[];t.a=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.notifier})).notifications,n=Object(s.b)(),i=n.enqueueSnackbar,u=n.closeSnackbar;c.a.useEffect((function(){t.forEach((function(t){var n,c=t.key,o=t.message,s=t.options,j=void 0===s?{}:s,b=t.dismissed;void 0!==b&&b?u(c):d.includes(c)||(i(o,Object(a.a)(Object(a.a)({key:c},j),{},{onClose:function(e,t,n){j.onClose&&j.onClose(e,t,n)},onExited:function(t,n){var a;e(Object(l.p)(n)),a=n,d=Object(r.a)(d.filter((function(e){return a!==e})))}})),n=c,d=[].concat(Object(r.a)(d),[n]))}))}),[t,u,i,e])}},268:function(e,t,n){"use strict";var a=n(7),r=n(9),i=n(26),c=n(191),o=n(685),s=n(108),l=n(155),d=n(214),u=n(691),j=n(693),b=n(686),h=n(1),p=function(){return Object(h.jsx)(u.a,{children:Object(h.jsx)(j.a,{children:Object(h.jsxs)(o.a,{container:!0,direction:"column",children:[Object(h.jsx)(o.a,{item:!0,children:Object(h.jsxs)(o.a,{container:!0,justifyContent:"space-between",children:[Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",width:44,height:44})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",width:34,height:34})})]})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",sx:{my:2},height:40})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",height:30})})]})})})},f=n(34),O=n(296),x=n.n(O),m=Object(r.a)(d.a)((function(e){return{backgroundColor:"#ffffff",color:e.theme.darkTextPrimary,overflow:"hidden",position:"relative",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",cursor:"pointer","&:hover":{boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)"}}}));t.a=function(e){var t=e.isLoading,n=e.data,r=e.images,d=e.onClick,u=Object(i.a)(),j={height:24,padding:"0 6px"},b=Object(a.a)(Object(a.a)({},j),{},{color:u.palette.success.dark,backgroundColor:u.palette.success.light}),g=function(e){return f.f.find((function(t){return t.name===e}))};return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(p,{}):Object(h.jsx)(m,{border:!1,content:!1,onClick:d,children:Object(h.jsx)(c.a,{sx:{p:2.25},children:Object(h.jsxs)(o.a,{container:!0,direction:"column",children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.address&&Object(h.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",marginRight:10},children:Object(h.jsx)(x.a,{diameter:40,seed:Object(O.jsNumberForAddress)(n.address)})}),Object(h.jsx)(s.a,{sx:{fontSize:"1.5rem",fontWeight:500},children:n.name})]}),Object(h.jsxs)(o.a,{sx:{mt:1,mb:1},container:!0,direction:"row",children:[Object(h.jsxs)(o.a,{item:!0,sx:{flexGrow:1},children:[n.address&&Object(h.jsx)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:u.palette.secondary[200],overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:250},children:"".concat(n.address.substring(0,8),"...").concat(n.address.slice(-4))}),n.flowData&&Object(h.jsxs)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:u.palette.secondary[200]},children:["Total Executions: ",n.executionCount||"0"]})]}),n.deployed&&Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(l.a,{label:"Deployed",sx:b})})]}),n.network&&Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(l.a,{label:g(n.network).label,sx:Object(a.a)(Object(a.a)({},j),{},{backgroundColor:g(n.network).color,color:"white"})})}),r&&Object(h.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:10},children:r.map((function(e){return Object(h.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white"},children:Object(h.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:e})},e)}))})]})})})})}},282:function(e,t,n){"use strict";var a=n(4),r=n(7),i=n(15),c=n(24),o=n(0),s=n(699),l=n(700),d=n(108),u=n(191),j=n(192),b=n(689),h=n(701),p=n(702),f=n(697),O=n(703),x=n(687),m=n(26),g=n(243),v=n.n(g),y=n(229),w=n.n(y),C=n(85),k=n.n(C),S=n(33),I=n(247),B=n(231),D=n.n(B),R=n(232),E=(n(233),n(234),n(235),n(236),n(237),n(318),n(1));t.a=function(e){var t,n=e.show,g=e.dialogProps,y=e.onCancel,C=e.onConfirm,B=document.getElementById("portal"),P=Object(m.a)(),A=Object(o.useState)(""),V=Object(i.a)(A,2),M=V[0],N=V[1],T=Object(o.useState)(null),W=Object(i.a)(T,2),z=W[0],F=W[1],_=Object(o.useState)(!1),L=Object(i.a)(_,2),U=L[0],H=L[1],J=Object(o.useState)(!1),q=Object(i.a)(J,2),X=q[0],G=q[1],Y=Object(o.useState)({}),$=Object(i.a)(Y,2),K=$[0],Q=$[1],Z=Object(o.useState)({}),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(R.languages.js),re=Object(i.a)(ae,2),ie=re[0],ce=re[1],oe=function(e){if(e.target&&e.target.selectionEnd&&e.target.value){var t=e.target.selectionEnd,n=e.target.value.substring(0,t),a=e.target.value.substring(t,e.target.value.length);ne({textBeforeCursorPosition:n,textAfterCursorPosition:a})}else ne({})},se=function(e,t){for(var n=e.namespace,a="".concat(t.id),r=0;r<n.length;r+=1){var i=n[r];"root"!==i&&(/^\d+$/.test(i)?(a.endsWith(".")&&(a=a.substring(0,a.length-1)),a+="[".concat(i,"]")):a+=i,r!==n.length-1&&(a+="."))}if(te){var c="";c=void 0===te.textBeforeCursorPosition&&void 0===te.textAfterCursorPosition?"".concat(M,"{{".concat(a,"}}")):"".concat(te.textBeforeCursorPosition,"{{").concat(a,"}}").concat(te.textAfterCursorPosition),N(c)}};Object(o.useEffect)((function(){if(g.values&&g.input){var e=g.values,t=g.input;g.arrayItemBody&&(e=g.arrayItemBody.arrayItemValues,t=g.arrayItemBody.arrayItemInput),F(t),N(e[t.name].toString()||""),"json"!==t.type&&"string"!==t.type&&"number"!==t.type||ce(R.languages.json),"code"===t.type&&ce(R.languages.js)}}),[g]);var le=n?Object(E.jsxs)(s.a,{open:n,fullWidth:!0,maxWidth:"lg","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(l.a,{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[z&&("json"===z.type||"string"===z.type||"number"===z.type||"code"===z.type)&&Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)(d.a,{sx:{mb:2,ml:1},variant:"h4",children:"Input"}),Object(E.jsx)(k.a,{style:{border:"1px solid",borderColor:P.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:Object(E.jsx)(D.a,{value:M,onValueChange:function(e){return N(e)},placeholder:z.placeholder,highlight:function(e){return Object(R.highlight)(e,ie)},onMouseUp:function(e){return oe(e)},onBlur:function(e){return oe(e)},padding:10,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"},textareaClassName:"editor__textarea"})})]}),!g.hideVariables&&Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)(d.a,{sx:{mb:2,ml:2},variant:"h4",children:"Variables"}),0===g.availableNodesForVariable.length&&Object(E.jsx)("div",{style:{padding:10,marginLeft:10},children:Object(E.jsx)("span",{children:"No Variables. Try connect to other nodes. "})}),g.availableNodesForVariable.length>0&&Object(E.jsx)(k.a,{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:Object(E.jsx)(u.a,{sx:{pl:2,pr:2},children:Object(E.jsx)(j.a,{sx:(t={width:"100%",py:0,borderRadius:"10px"},Object(a.a)(t,P.breakpoints.down("md"),{maxWidth:300}),Object(a.a)(t,"& .MuiListItemSecondaryAction-root",{top:22}),Object(a.a)(t,"& .MuiDivider-root",{my:0}),Object(a.a)(t,"& .list-container",{pl:7}),t),children:g.availableNodesForVariable.map((function(e,t){return Object(E.jsx)(u.a,{children:Object(E.jsxs)(b.a,{expanded:U===e.data.label,onChange:(n=e.data.label,function(e,t){H(!!t&&n)}),children:[Object(E.jsx)(h.a,{expandIcon:Object(E.jsx)(v.a,{}),"aria-controls":"".concat(e.data.label,"-content"),id:"".concat(e.data.label,"-header"),children:Object(E.jsx)(d.a,{variant:"h5",children:e.data.label})}),Object(E.jsx)(p.a,{children:Object(E.jsxs)("div",{style:{position:"relative"},children:[Object(E.jsx)(w.a,{collapsed:!0,src:e.data.outputResponses&&e.data.outputResponses.output?e.data.outputResponses.output:{},enableClipboard:function(t){return se(t,e)}}),Object(E.jsx)(f.a,{size:"small",sx:{height:25,width:25,position:"absolute",top:-5,right:5},title:"Expand Variable",color:"primary",onClick:function(){return function(e,t){var n={title:"Variable Data: ".concat(t.data.label),data:e,node:t};Q(n),G(!0)}(e.data.outputResponses&&e.data.outputResponses.output?e.data.outputResponses.output:{},e)},children:Object(E.jsx)(S.b,{})})]})})]})},t);var n}))})})})]}),Object(E.jsx)(I.a,{enableClipboard:!0,show:X,dialogProps:K,onCancel:function(){return G(!1)},onCopyClick:function(e,t){se(e,t),G(!1)}})]})}),Object(E.jsxs)(O.a,{children:[Object(E.jsx)(x.a,{onClick:y,children:g.cancelButtonName}),Object(E.jsx)(x.a,{variant:"contained",onClick:function(){return function(e){if(g.arrayItemBody){var t=Object(r.a)(Object(r.a)({},g.arrayItemBody.arrayItemValues),{},Object(a.a)({},g.arrayItemBody.arrayItemInput.name,e)),n=g.arrayItemBody.initialValues;n[g.arrayItemBody.arrayItemIndex]=t;var i=Object(r.a)(Object(r.a)({},g.values),{},Object(a.a)({},g.input.name,n));C(i)}else{var c,o=Object(r.a)(Object(r.a)({},g.values),{},(c={},Object(a.a)(c,g.input.name,e),Object(a.a)(c,"submit",null),c));C(o)}}(M)},children:g.confirmButtonName})]})]}):null;return Object(c.createPortal)(le,B)}},292:function(e,t,n){"use strict";var a=n(208),r=n(223),i=n(7),c=n(215),o=n(4),s=n(11),l=n.n(s),d=n(0),u=n(688),j=n(191),b=n(695),h=n(667),p=n(108),f=n(696),O=n(697),x=n(687),m=n(698),g=n(682),v=n(677),y=n(669),w=n(552),C=n(680),k=n(9),S=n(26),I=n(224),B=n.n(I),D=n(244),R=n(290),E=n(85),P=n.n(E),A=n(231),V=n.n(A),M=n(232),N=(n(233),n(234),n(235),n(236),n(237),n(280)),T=n.n(N),W=(n(278),n(260)),z=n(245),F=n(25),_=n(694),L=n(33),U=n(212),H=(n(242),n(1)),J=Object(k.a)(u.a)(Object(o.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(w.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),q=Object(d.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(H.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:a,ref:t,children:n})}));q.propTypes={value:l.a.string,onClick:l.a.func};var X=function(e){var t=e.initialValues,n=e.arrayParams,a=e.paramsType,r=e.arrayGroupName,c=e.errors,s=e.onArrayInputChange,l=e.onArrayInputBlur,d=e.onArrayItemRemove,u=e.onArrayItemMouseUp,w=e.onEditVariableDialogOpen,k=Object(S.a)(),I=Object(F.c)((function(e){return e.customization})),D=function(e,n,a,r){var c=Object(i.a)(Object(i.a)({},a),{},Object(o.a)({},n,e)),s=t;return s[r]=c,s},R=function(e,t,n,a){var r=D(e,t,n,a);s(r)},E=function(e,t,n,a){var r=D(e,t,n,a);l(r)},A=function(e,t,n){var i=e.target.selectionEnd,c=e.target.value.substring(0,i),o=e.target.value.substring(i,e.target.value.length),s="".concat(a,".").concat(r,"[").concat(n,"].").concat(t);u(!0,{textBeforeCursorPosition:c,textAfterCursorPosition:o,path:s,paramsType:a})};return Object(H.jsx)(H.Fragment,{children:n.map((function(e,a){var r=n[a]||[],o=t[a]||{};return Object(H.jsxs)(j.a,{sx:{p:2,mb:2,backgroundColor:k.palette.secondary.light,borderRadius:"".concat(I.borderRadius,"px"),position:"relative"},children:[n.length>1&&Object(H.jsx)(_.a,{sx:{minHeight:30,height:30,width:30,backgroundColor:k.palette.secondary.light,color:k.palette.secondary.main,position:"absolute",right:-10,top:-10},size:"small",onClick:function(){return function(e){var n=t;n.splice(e,1),d(n),u(!1)}(a)},children:Object(H.jsx)(L.B,{})}),r.map((function(e,t){if("file"===e.type||"folder"===e.type){var n=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][n]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),"file"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:k.palette.grey[800],marginBottom:"1rem"},children:o[n]?Object(U.j)(o[n]):"Choose a file to upload"}),"folder"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:k.palette.grey[800],marginBottom:"1rem"},children:o[n]?Object(U.k)(o[n]):"Choose a folder to upload"}),Object(H.jsxs)(x.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(H.jsx)(L.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(H.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,a,r){if(e.target.files){var i=e.target.files[0],c=i.name,o=new FileReader;o.onload=function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.target)&&void 0!==i&&i.result){var o=e.target.result+",filename:".concat(c);t(o,a,n,r)}},o.readAsDataURL(i)}}(e,o,n,a)}}),"folder"===e.type&&Object(H.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,a){if(e.target.files){var r=e.target.files,i=new FileReader;!function e(c,o){if(c>=r.length)R(JSON.stringify(o),n,t,a);else{var s=r[c];i.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var a=t.target.result+",filepath:".concat(s.webkitRelativePath);o.push(a),e(c+1,B.a.cloneDeep(o))}},i.readAsDataURL(s)}}(0,[])}}(e,o,n,a)}})]})]},"".concat(n,"_").concat(t))}if("json"===e.type||"code"===e.type){var r=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][r]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),Object(H.jsx)(x.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return w(e,o,a)},children:"Edit Variables"})]}),Object(H.jsx)(P.a,{style:{border:"1px solid",borderColor:k.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(H.jsx)(V.a,{placeholder:e.placeholder,value:o[r]||"",onBlur:function(e){E(e.target.value,r,o,a),A(e,r,a)},onValueChange:function(e){return R(e,r,o,a)},onMouseUp:function(e){return A(e,r,a)},highlight:function(t){return Object(M.highlight)(t,"json"===e.type?M.languages.json:M.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})})]},"".concat(r,"_").concat(t))}if("date"===e.type){var s=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][s]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(T.a,{customInput:Object(H.jsx)(q,{}),selected:Object(U.d)(o[s])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;R(t,s,o,a),u(!1)}})]},"".concat(s,"_").concat(t))}if("string"===e.type||"password"===e.type||"number"===e.type){var l=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][l]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),("string"===e.type||"number"===e.type)&&Object(H.jsx)(x.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return w(e,o,a)},children:"Edit Variables"})]}),Object(H.jsx)(m.a,{id:l,type:"string"===e.type||"number"===e.type?"text":e.type,value:o[l]||"",placeholder:e.placeholder,name:l,onBlur:function(e){var t=e.target.value;E(t,l,o,a),A(e,l,a)},onChange:function(e){var t=e.target.value;R(t,l,o,a)},onMouseUp:function(e){return A(e,l,a)}})]},"".concat(l,"_").concat(t))}if("boolean"===e.type){var d=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][d]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(g.a,{checked:!!o[d],onChange:function(e){R(e.target.checked,d,o,a)},inputProps:{"aria-label":"controlled"}})]},"".concat(d,"_").concat(t))}if("options"===e.type){var S=e.name,I=e.options||[];return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(C.a,{id:S,freeSolo:!0,onOpen:function(){return u(!1)},options:I,value:(D=I,N=o[S],D.find((function(e){return e.name===N}))||""),onChange:function(e,t){var n=t?t.name:"";E(n,S,o,a)},PopperComponent:J,renderInput:function(e){return Object(H.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{value:o[S],error:!!(c&&c.length>0&&c[a])&&Boolean(c[a][S])}))},renderOption:function(e,t){return Object(H.jsx)(j.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(H.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}})]},"".concat(S,"_").concat(t))}var D,N;return null}))]},a)}))})},G=n(229),Y=n.n(G),$=(n(317),function(e){var t=e.value,n=e.options,a=Object(S.a)(),r=function(e){return n.find((function(t){return t.name===e}))},i=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.inputParameters||""},c=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleParameters||""},o=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleResponse||""};return Object(H.jsxs)(H.Fragment,{children:[r(t)&&i(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Parameters"}),Object(H.jsx)("div",{className:"params",dangerouslySetInnerHTML:{__html:i(t)}})]}),r(t)&&c(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Example Parameters"}),Object(H.jsx)(Y.a,{collapsed:!0,src:JSON.parse(c(t)),enableClipboard:function(e){return Object(U.e)(e)}})]}),r(t)&&o(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Example Response"}),Object(H.jsx)(Y.a,{collapsed:!0,src:o(t),enableClipboard:function(e){return Object(U.e)(e)}})]})]})}),K=n(15),Q=n(400),Z=n(254),ee=n.n(Z),te=n(34),ne=function(e){var t=e.title,n=e.description,a=e.value,r=e.loadMethod,c=e.loadFromDbCollections,o=e.nodeFlowData,s=e.error,l=e.onChange,u=e.onMenuOpen,j=e.onSetError,b=Object(S.a)(),x={option:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{paddingTop:15,paddingBottom:15,paddingLeft:20,paddingRight:20,cursor:"pointer",fontWeight:"500",backgroundColor:t.isSelected?b.palette.primary.light:"",color:"black","&:hover":{backgroundColor:b.palette.grey[200]}})},control:function(e){return Object(i.a)(Object(i.a)({},e),{},{cursor:"text",backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:6,paddingLeft:6,borderRadius:12,"&:hover":{borderColor:b.palette.grey[700]}})},singleValue:function(e){return Object(i.a)(Object(i.a)({},e),{},{fontWeight:"600"})},menuList:function(e){return Object(i.a)(Object(i.a)({},e),{},{boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"})}},m=Object(d.useState)([]),g=Object(K.a)(m,2),v=g[0],w=g[1];return Object(d.useEffect)((function(){return function(){return w([])}}),[]),Object(d.useEffect)((function(){void 0!==a&&(v.find((function(e){return e.name===a}))||j())}),[v]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:t}),n&&Object(H.jsx)(f.a,{title:n,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsxs)("div",{style:{position:"relative"},children:[Object(H.jsx)(Q.a,{styles:x,value:function(e){return v.find((function(t){return t.name===e}))}(a)||"",formatOptionLabel:function(e,t){var n=e.label,a=e.description,r=t.context;return Object(H.jsxs)(H.Fragment,{children:["menu"===r&&Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)("div",{children:n}),a&&Object(H.jsx)("span",{style:{fontWeight:400,paddingTop:10,paddingBottom:10},children:a})]}),"value"===r&&Object(H.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(H.jsx)("div",{children:n})})]})},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.name},loadOptions:function(e,t){ee.a.post("".concat(te.a,"/api/v1/node-load-method/").concat(o.name),Object(i.a)(Object(i.a)({},o),{},{loadMethod:r,loadFromDbCollections:c})).then((function(n){var a=function(e){for(var t=e,n=[],a=["show","hide"],r=function(e){for(var r=a[e],i=function(e){var a=t[e],i=a[r];i&&Object.keys(i).forEach((function(e){var t=i[e],c=B.a.get(o,e,"");Array.isArray(t)?("show"!==r||t.includes(c)||n.push(a),"hide"===r&&t.includes(c)&&n.push(a)):"string"===typeof t&&("show"!==r||t===c||new RegExp(t).test(c)||n.push(a),"hide"!==r||t!==c&&!new RegExp(t).test(c)||n.push(a))}))},c=0;c<t.length;c+=1)i(c)},i=0;i<a.length;i+=1)r(i);for(var c=function(e){t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(n[e])}))},s=0;s<n.length;s+=1)c(s);return t}((n.data||[]).filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())})));w(a),t(a)}))},defaultOptions:!0,onChange:l,onMenuOpen:u},JSON.stringify(o)),Object(H.jsx)("button",{style:{minHeight:10,height:27,width:30,backgroundColor:"#FAFAFA",color:b.palette.grey[500],position:"absolute",right:10,top:0,bottom:0,margin:"auto",border:"none",cursor:"pointer"},title:"Clear Selection",type:"button",onClick:function(){return l(null)},children:Object(H.jsx)(L.B,{})})]}),s&&Object(H.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:function(e){return e?"*".concat(e.replace(/["]/g,"")):""}(s)}),Object(H.jsx)($,{value:a,options:v})]})},ae=["params","paramsType","initialValues","nodeParamsValidation","nodeFlowData","valueChanged","onSubmit","setVariableSelectorState","onEditVariableDialogOpen"],re=Object(k.a)(u.a)(Object(o.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(w.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),ie=Object(d.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(H.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:a,ref:t,children:n})}));ie.propTypes={value:l.a.string,onClick:l.a.func};t.a=function(e){var t=e.params,n=e.paramsType,s=e.initialValues,l=e.nodeParamsValidation,d=e.nodeFlowData,u=e.valueChanged,w=e.onSubmit,k=e.setVariableSelectorState,I=e.onEditVariableDialogOpen,E=Object(c.a)(e,ae),A=Object(S.a)(),N=Object(W.a)(),F=function(e){var t=e;t.submit=null,u(t,n)},_=function(e,t){var a=e.target.selectionEnd,r=e.target.value.substring(0,a),i=e.target.value.substring(a,e.target.value.length),c="".concat(n,".").concat(t);k(!0,{textBeforeCursorPosition:r,textAfterCursorPosition:i,path:c,paramsType:n})},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.name===t}))};return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(j.a,{sx:{width:400},children:Object(H.jsx)(R.a,{enableReinitialize:!0,initialValues:s,validationSchema:D.b().shape(l),onSubmit:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,r){var i,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.setErrors,c=r.setStatus,o=r.setSubmitting,k(!1);try{N.current&&(t.submit=!0,c({success:!0}),o(!1),w(t,n))}catch(a){console.error(a),N.current&&(c({success:!1}),i({submit:a.message}),o(!1))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var a=e.errors,r=e.handleBlur,c=e.handleChange,s=e.handleSubmit,l=e.setFieldValue,w=e.isSubmitting,S=e.values;return Object(H.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:s},E),{},{children:[t.map((function(e){if("file"===e.type||"folder"===e.type){var t=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[t]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),"file"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:S[t]?Object(U.j)(S[t]):"Choose a file to upload"}),"folder"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:S[t]?Object(U.k)(S[t]):"Choose a folder to upload"}),Object(H.jsxs)(x.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(H.jsx)(L.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(H.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,a){if(k(!1),e.target.files){var r=e.target.files[0],c=r.name,s=new FileReader;s.onload=function(e){var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.result){var s=e.target.result+",filename:".concat(c);t(a,s);var l=Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},a,s));F(l)}},s.readAsDataURL(r)}}(e,l,S,t)}}),"folder"===e.type&&Object(H.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,a){if(k(!1),e.target.files){var r=e.target.files,c=new FileReader;!function e(s,l){if(s>=r.length){t(a,JSON.stringify(l));var d=Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},a,JSON.stringify(l)));F(d)}else{var u=r[s];c.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var a=t.target.result+",filepath:".concat(u.webkitRelativePath);l.push(a),e(s+1,B.a.cloneDeep(l))}},c.readAsDataURL(u)}}(0,[])}}(e,l,S,t)}})]}),a[t]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[t]]})]},t)}if("json"===e.type||"code"===e.type){var s=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[s]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),Object(H.jsx)(x.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return I(e,S)},children:"Edit Variables"})]}),Object(H.jsx)(P.a,{style:{border:"1px solid",borderColor:A.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(H.jsx)(V.a,{placeholder:e.placeholder,value:S[s]||"",onBlur:function(e){var t=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},s,e.target.value));F(t),_(e,s)},onValueChange:function(e){l(s,e)},onMouseUp:function(e){return _(e,s)},highlight:function(t){return Object(M.highlight)(t,"json"===e.type?M.languages.json:M.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),a[s]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[s]]})]},s)}if("date"===e.type){var w=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[w]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(T.a,{customInput:Object(H.jsx)(ie,{}),selected:Object(U.d)(S[w])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;k(!1),l(w,t);var n=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},w,t));F(n)}}),a[w]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[w]]})]},w)}if("string"===e.type||"password"===e.type||"number"===e.type){var D=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[D]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),("string"===e.type||"number"===e.type)&&Object(H.jsx)(x.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return I(e,S)},children:"Edit Variables"})]}),Object(H.jsx)(m.a,{id:D,type:"string"===e.type||"number"===e.type?"text":e.type,placeholder:e.placeholder,multiline:!!e.rows,maxRows:e.rows||0,minRows:e.rows||0,value:S[D]||"",name:D,onBlur:function(e){r(e),F(S),_(e,D)},onMouseUp:function(e){return _(e,D)},onChange:c}),a[D]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[D]]})]},D)}if("boolean"===e.type){var R=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[R]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(g.a,{checked:!!S[R],onChange:function(e){k(!1),l(R,e.target.checked);var t=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},R,e.target.checked));F(t)},inputProps:{"aria-label":"controlled"}})]},R)}if("asyncOptions"===e.type){var E=e.name;return Object(H.jsx)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:Object(H.jsx)(ne,{title:e.label,description:e.description,value:S[E],loadMethod:e.loadMethod,loadFromDbCollections:e.loadFromDbCollections||[],nodeFlowData:d,error:JSON.stringify(a[E]),onChange:function(e){var t=e?e.name:"";l(E,t);var n=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},E,t));F(n)},onMenuOpen:function(){return k(!1)},onSetError:function(){l(E,"")}})},E)}if("options"===e.type){var N=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(C.a,{id:N,freeSolo:!0,onOpen:function(){return k(!1)},options:e.options||[],value:J(e.options,S[N])||"",onChange:function(e,t){var n=t?t.name:"";l(N,n);var a=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},N,n));F(a)},onInputChange:function(e,t){t||l(N,"")},onBlur:r,PopperComponent:re,renderInput:function(e){return Object(H.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{value:S[N],error:Boolean(a[N])}))},renderOption:function(e,t){return Object(H.jsx)(j.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(H.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}}),a[N]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[N]]}),Object(H.jsx)($,{value:S[N],options:e.options||[]})]},N)}if("array"===e.type){var W=e.arrayParams,q=e.array,G=e.name,Y=S[G]||[];return Object(H.jsxs)(h.a,{sx:{mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(O.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(X,{initialValues:Y,arrayParams:W,paramsType:n,arrayGroupName:G,errors:a[G]?a[G]:[],onArrayInputChange:function(e){l(G,e)},onArrayInputBlur:function(e){l(G,e);var t=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},G,e));F(t)},onArrayItemRemove:function(e){l(G,e);var t=Object(i.a)(Object(i.a)({},S),{},Object(o.a)({},G,e));F(t)},onArrayItemMouseUp:function(e,t){t?k(e,t):k(e)},onEditVariableDialogOpen:function(t,n,a){I(e,S,{arrayItemInput:t,arrayItemValues:n,arrayItemIndex:a,initialValues:Y})}}),Object(H.jsx)(j.a,{sx:{mb:2},children:Object(H.jsx)(z.a,{children:Object(H.jsxs)(x.a,{disableElevation:!0,fullWidth:!0,size:"small",variant:"outlined",color:"secondary",startIcon:Object(H.jsx)(L.u,{}),onClick:function(){k(!1);var t={};if(e.default&&e.default.length)t=e.default[0];else for(var a=0;a<q.length;a+=1)t[q[a].name]=q[a].default||"";Y.push(t),function(e,t,a){var r=Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},a,t));u(r,n)}(S,Y,G)},children:["Add ",e.label]})})},G)]},G)}return null})),Object(H.jsx)(j.a,{sx:{mt:2},children:Object(H.jsx)(z.a,{children:Object(H.jsx)(x.a,{disableElevation:!0,disabled:w||Object.keys(a).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Continue"})})})]}))}})})})}},293:function(e,t,n){"use strict";var a=n(208),r=n(223),i=n(7),c=n(15),o=n(215),s=n(4),l=n(0),d=n(688),u=n(191),j=n(695),b=n(667),h=n(108),p=n(696),f=n(697),O=n(677),x=n(687),m=n(698),g=n(682),v=n(669),y=n(552),w=n(680),C=n(9),k=n(26),S=n(244),I=n(290),B=n(85),D=n.n(B),R=n(231),E=n.n(R),P=n(232),A=(n(233),n(234),n(235),n(236),n(237),n(245)),V=n(219),M=function(e){return V.a.get("/credentials",{params:{nodeCredentialName:e}})},N=function(e){return V.a.get("/node-credentials/".concat(e))},T=function(e,t){return V.a.get("/credentials/".concat(e),{params:{isEncrypted:t}})},W=function(e){return V.a.post("/credentials",e)},z=function(e,t){return V.a.put("/credentials/".concat(e),t)},F=function(e){return V.a.delete("/credentials/".concat(e))},_=function(e){return V.a.get("/oauth2",{params:{credentialId:e}})},L=function(){return V.a.get("/oauth2-redirecturl")},U=n(220),H=n(260),J=n(33),q=(n(242),n(1)),X=["initialParams","paramsType","initialValues","initialValidation","valueChanged","paramsChanged","onSubmit"],G=Object(C.a)(d.a)(Object(s.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(y.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),Y="+ Add New Credential";t.a=function(e){var t=e.initialParams,n=e.paramsType,d=e.initialValues,y=e.initialValidation,C=e.valueChanged,B=e.paramsChanged,R=e.onSubmit,V=Object(o.a)(e,X),$=Object(H.a)(),K=Object(k.a)(),Q=Object(l.useState)({}),Z=Object(c.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(l.useState)({}),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1],ce=Object(l.useState)(""),oe=Object(c.a)(ce,2),se=oe[0],le=oe[1],de=Object(l.useState)([]),ue=Object(c.a)(de,2),je=ue[0],be=ue[1],he=Object(l.useState)([]),pe=Object(c.a)(he,2),fe=pe[0],Oe=pe[1],xe=Object(l.useState)(""),me=Object(c.a)(xe,2),ge=me[0],ve=me[1],ye=Object(U.a)(N),we=Object(U.a)(M),Ce=Object(U.a)(T),ke=function(e){var t=e;t.submit=null,C(t,n)},Se=function(e){if(0===je.length)throw new Error("Credential params empty");for(var t={},n=0;n<je.length;n+=1){var a=je[n].name;a in e&&(t[a]=e[a])}return delete t.name,{name:e.name,nodeCredentialName:e.credentialMethod,credentialData:t}},Ie=function(){var e=t.filter((function(e){return je.every((function(t){return e.name!==t.name}))}));be([]),ve(""),B(e,n)},Be=function(e){for(var t=JSON.parse(JSON.stringify(re)),a=0;a<je.length;a+=1){var r=je[a].name;r in t&&delete t[r]}t=Object(i.a)(Object(i.a)({},t),{},{registeredCredential:e}),C(t,n)},De=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:e.sent.data&&(Ie(),Be(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){var t=window.screenX+(window.outerWidth-500)/2,n=window.screenY+(window.outerHeight-400)/2.5,a=e;return window.open(a,"Connect Credential","width=".concat(500,",height=").concat(400,",left=").concat(t,",top=").concat(n))},Ee=function(e,t){return e.find((function(e){return e.name===t}))};return Object(l.useEffect)((function(){if(we.data){var e=[];if(we.data.length)for(var n=0;n<we.data.length;n+=1)e.push({_id:we.data[n]._id,name:we.data[n].name});e.push({name:Y}),Oe(e),t.find((function(e){return"registeredCredential"===e.name}))&&function(e,t){var n=Object(i.a)(Object(i.a)({},ee),{},Object(s.a)({},e,S.b(Object(s.a)({},t,S.c().required("".concat(e," is required"))))));te(n)}("registeredCredential","name")}}),[we.data]),Object(l.useEffect)((function(){if(ye.data){var e=ye.data.credentials;e.unshift({label:"Credential Name",name:"name",type:"string",default:""}),be(e);for(var a=t,r=function(n){var r=e[n].name;void 0===t.find((function(e){return e.name===r}))&&a.push(e[n])},i=0;i<e.length;i+=1)r(i);B(a,n)}}),[ye.data]),Object(l.useEffect)((function(){if(Ce.data){var e=Object(i.a)(Object(i.a)(Object(i.a)({},re),Ce.data.credentialData),{},{name:Ce.data.name});C(e,n)}}),[Ce.data]),Object(l.useEffect)((function(){ie(d),d&&d.credentialMethod&&(we.request(d.credentialMethod),le(d.credentialMethod))}),[d]),Object(l.useEffect)((function(){te(y)}),[y]),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(u.a,{sx:{width:400},children:Object(q.jsx)(I.a,{enableReinitialize:!0,initialValues:re,validationSchema:S.b().shape(ee),onSubmit:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,c){var o,s,l,d,u,j,b,h,p,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.setErrors,s=c.setStatus,l=c.setSubmitting,e.prev=1,!$.current){e.next=37;break}if((d=t&&t.registeredCredential&&t.registeredCredential.name===Y)||0!==je.length&&t.credentialMethod){e.next=10;break}R(t.credentialMethod?Object(i.a)(Object(i.a)({},t),{},{submit:!0}):{submit:!0},n),s({success:!0}),l(!1),e.next=37;break;case 10:if(u=Se(t),!d){e.next=17;break}return e.next=14,W(u);case 14:j=e.sent,e.next=20;break;case 17:return e.next=19,z(t.registeredCredential._id,u);case 19:j=e.sent;case 20:if(!j.data){e.next=36;break}if(!t.credentialMethod.toLowerCase().includes("oauth2")){e.next=29;break}return e.next=24,_(j.data._id);case 24:return b=e.sent,h=Re(b.data),p=function(){var e=Object(r.a)(Object(a.a)().mark((function e(r){var i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"success"===r.data&&(window.removeEventListener("message",p,!1),i={credentialMethod:t.credentialMethod,registeredCredential:{_id:j.data._id,name:j.data.name},submit:!0},Ie(),R(i,n),s({success:!0}),l(!1),h&&h.close());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",p,!1),e.abrupt("return");case 29:f={credentialMethod:t.credentialMethod,registeredCredential:{_id:j.data._id,name:j.data.name},submit:!0},Ie(),R(f,n),s({success:!0}),l(!1),e.next=37;break;case 36:throw new Error(j);case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(1),console.error(e.t0),$.current&&(s({success:!1}),o({submit:e.t0.message}),l(!1));case 43:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,c=e.handleBlur,o=e.handleChange,l=e.handleSubmit,y=e.setFieldValue,C=e.isSubmitting,k=e.values;return Object(q.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:l},V),{},{children:[t.map((function(e){if("options"===e.type){var t=e.name,a=e.options||[];return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:t,freeSolo:!0,options:a,value:Ee(a,k[t])||"",onChange:function(e,n){var a=n?n.name:"";y(t,a);var r=Object(s.a)({},t,a);ke(r),Ie(),n?(we.request(a),le(a)):Oe([])},onBlur:c,PopperComponent:G,renderInput:function(e){return Object(q.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{value:k[t],error:Boolean(n[t])}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(q.jsx)(h.a,{sx:{p:1},children:t.description})]})}))}}),n[t]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}return null})),t.find((function(e){return"registeredCredential"===e.name}))&&Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:"Registered Credential"}),Object(q.jsx)(p.a,{title:"Select previously registered credential OR add new credential",placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:"registered-credential",freeSolo:!0,options:fe,value:k.registeredCredential&&k.credentialMethod?k.registeredCredential:" ",getOptionLabel:function(e){return e.name||" "},onChange:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y("registeredCredential",null!==n?n:d.registeredCredential),r=Object(i.a)(Object(i.a)({},k),{},{registeredCredential:n}),ke(r),!n){e.next=11;break}if(n.name!==Y?Ce.request(n._id):Be(n),ye.request(se),!k.credentialMethod.toLowerCase().includes("oauth2")){e.next=11;break}return e.next=9,L();case 9:(c=e.sent).data&&ve(c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onInputChange:function(e,t){t||(Ie(),Be(""))},onBlur:c,PopperComponent:G,renderInput:function(e){return Object(q.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{value:k.registeredCredential,error:Boolean(n.registeredCredential)}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.name})})}))}}),n.registeredCredential&&Object(q.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:"*Registered Credential is required"})]}),k&&k.registeredCredential&&k.registeredCredential._id&&Object(q.jsx)(x.a,{sx:{mb:2},size:"small",variant:"outlined",startIcon:Object(q.jsx)(J.y,{size:15}),onClick:function(){return De(k.registeredCredential._id)},children:"Delete Credential"}),ge&&Object(q.jsxs)("div",{children:[Object(q.jsx)(h.a,{variant:"overline",children:"OAuth2 Redirect URL"}),Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{sx:{p:1,borderRadius:10,backgroundColor:K.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:ge}),Object(q.jsx)(f.a,{title:"Copy URL",color:"primary",onClick:function(){return navigator.clipboard.writeText(ge)},children:Object(q.jsx)(J.h,{})})]})]}),k.credentialMethod&&je.map((function(e){if("json"===e.type){var t=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[t]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(D.a,{style:{border:"1px solid",borderColor:K.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(q.jsx)(E.a,{placeholder:e.placeholder,value:k[t]||"",onBlur:function(e){var n=Object(i.a)(Object(i.a)({},k),{},Object(s.a)({},t,e.target.value));ke(n)},onValueChange:function(e){y(t,e)},highlight:function(e){return Object(P.highlight)(e,P.languages.json)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),n[t]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}if("string"===e.type||"password"===e.type||"number"===e.type){var a=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[a]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(m.a,{id:a,type:"string"===e.type||"number"===e.type?"text":e.type,value:k[a]||"",placeholder:e.placeholder,name:a,onBlur:function(e){c(e),ke(k)},onChange:o}),n[a]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[a]]})]},a)}if("boolean"===e.type){var r=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[r]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(g.a,{checked:!!k[r],onChange:function(e){y(r,e.target.checked);var t=Object(i.a)(Object(i.a)({},k),{},Object(s.a)({},r,e.target.checked));ke(t)},inputProps:{"aria-label":"controlled"}})]},r)}if("options"===e.type){var l=e.name,d=e.options||[];return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:l,freeSolo:!0,options:d,value:Ee(d,k[l])||"",onChange:function(e,t){var n=t?t.name:"";y(l,n);var a=Object(i.a)(Object(i.a)({},k),{},Object(s.a)({},l,n));ke(a)},onBlur:c,PopperComponent:G,renderInput:function(e){return Object(q.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{value:k[l],error:Boolean(n[l])}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(q.jsx)(h.a,{sx:{p:1},children:t.description})]})}))}}),n[l]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[l]]})]},l)}return null})),Object(q.jsx)(u.a,{sx:{mt:2},children:Object(q.jsx)(A.a,{children:Object(q.jsx)(x.a,{disableElevation:!0,disabled:C||Object.keys(n).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:k&&k.registeredCredential&&(k.registeredCredential.name===Y||je.length)?"Save and Continue":"Continue"})})})]}))}})})})}},317:function(e,t,n){},318:function(e,t,n){},616:function(e,t){},681:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),i=n(667),c=n(685),o=n(191),s=n(687),l=n(214),d=n(268),u=n(4),j=n(7),b=n(208),h=n(223),p=n(24),f=n(25),O=n(16),x=n(699),m=n(670),g=n(700),v=n(155),y=n(108),w=n(697),C=n(689),k=n(701),S=n(154),I=n(702),B=n(193),D=n(703),R=n(243),E=n.n(R),P=n(26),A=n(244),V=n(224),M=n.n(V),N=n(640),T=n(292),W=n(293),z=n(282),F=n(33),_=n(219),L=function(){return _.a.get("/contracts")},U=function(e){return _.a.get("/contracts/".concat(e))},H=function(e){return _.a.post("/contracts",e)},J=function(e,t){return _.a.put("/contracts/".concat(e),t)},q=function(e){return _.a.post("/contracts/getabi",e)},X=function(e){return _.a.delete("/contracts/".concat(e))},G=n(220),Y=n(34),$=n(212),K=n(264),Q=n(1),Z=function(e){var t=e.show,n=e.dialogProps,c=e.onCancel,l=e.onConfirm,d=document.getElementById("portal"),R=Object(P.a)(),V=Object(f.b)();Object(K.a)();var _=function(){return V(O.o.apply(void 0,arguments))},L=function(){return V(O.n.apply(void 0,arguments))},Z=Object(r.useState)(Y.b),ee=Object(a.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(r.useState)({}),re=Object(a.a)(ae,2),ie=re[0],ce=re[1],oe=Object(r.useState)([]),se=Object(a.a)(oe,2),le=se[0],de=se[1],ue=Object(r.useState)({}),je=Object(a.a)(ue,2),be=je[0],he=je[1],pe=Object(r.useState)({}),fe=Object(a.a)(pe,2),Oe=fe[0],xe=fe[1],me=Object(r.useState)(!1),ge=Object(a.a)(me,2),ve=ge[0],ye=ge[1],we=Object(r.useState)(!1),Ce=Object(a.a)(we,2),ke=Ce[0],Se=Ce[1],Ie=Object(r.useState)(""),Be=Object(a.a)(Ie,2),De=Be[0],Re=Be[1],Ee=Object(r.useState)(!1),Pe=Object(a.a)(Ee,2),Ae=Pe[0],Ve=Pe[1],Me=Object(r.useState)(!1),Ne=Object(a.a)(Me,2),Te=Ne[0],We=Ne[1],ze=Object(r.useState)({}),Fe=Object(a.a)(ze,2),_e=Fe[0],Le=Fe[1],Ue=["networks","credentials","contractInfo"],He=Object(G.a)(U),Je=function(e){return function(t,n){ye(!!n&&e)}},qe=function(){ce({}),de([]),he({}),xe({}),Se(!1),Re(""),Ve(!1),ye(!1)},Xe=function(e,t,n){Le({input:e,values:t,arrayItemBody:n,cancelButtonName:"Cancel",confirmButtonName:"Save",hideVariables:!0}),We(!0)},Ge=function(){var e=Object(h.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={network:ie.networks.network,name:ie.contractInfo.name,abi:ie.contractInfo.abi,address:ie.contractInfo.address,providerCredential:JSON.stringify(ie.credentials)},e.next=3,H(t);case 3:e.sent.data?(_({message:"New contract added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),l()):(_({message:"Failed to add new contract",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),c());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(h.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={network:ie.networks.network,name:ie.contractInfo.name,abi:ie.contractInfo.abi,address:ie.contractInfo.address,providerCredential:JSON.stringify(ie.credentials)},e.next=3,J(n.id,t);case 3:e.sent.data?(_({message:"Contract saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),l()):(_({message:"Failed to save contract",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),c());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(h.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(n.id);case 2:e.sent.data?(_({message:"Contract deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),l()):(_({message:"Failed to delete contract",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(Q.jsx)(s.a,{style:{color:"white"},onClick:function(){return L(e)},children:Object(Q.jsx)(F.B,{})})}}}),c());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(h.a)(Object(b.a)().mark((function e(t,n){var a,r,i,c,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Y.f.find((function(e){return e.name===ie.networks.network}))){e.next=3;break}return e.abrupt("return");case 3:return r=Object(j.a)(Object(j.a)({},ie),{},{networks:Object(j.a)(Object(j.a)({},ie.networks),{},{uri:a.uri||""})}),e.next=6,q(r);case 6:if((i=e.sent).data){e.next=14;break}return c=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},n,Object(j.a)(Object(j.a)({},t),{},{submit:null}))),ce(c),Re("Unable to fetch ABI"),e.abrupt("return");case 14:if("0"!==i.data.status){e.next=18;break}return Re("Unable to fetch ABI"),e.abrupt("return");case 18:return o=i.data.result,Re(""),e.abrupt("return","Invalid API Key"===o?void 0:o);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(e,t){var n=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},t,e)),a=Ue.indexOf(t);if(a>=0&&a!==Ue.length-1)for(var r=a+1;r<Ue.length;r+=1){var i=Ue[r];n[i]&&(n[i].submit=null)}ce(n)},Ze=function(){var e=Object(h.a)(Object(b.a)().mark((function e(t,n){var a,r,i,c,o,s,l;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.address){e.next=14;break}if(!N.a.utils.isAddress(t.address)){e.next=9;break}return Se(!1),e.next=5,Ke(t,n);case 5:(a=e.sent)?((r=Object(j.a)({submit:!0},t)).abi=a,i=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},n,r)),ce(i)):(c=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},n,Object(j.a)(Object(j.a)({},t),{},{submit:null}))),ce(c)),e.next=12;break;case 9:Se(!0),o=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},n,Object(j.a)(Object(j.a)({},t),{},{submit:null}))),ce(o);case 12:e.next=16;break;case 14:s=Object(j.a)(Object(j.a)({},ie),{},Object(u.a)({},n,t)),ce(s);case 16:(l=Ue.indexOf(n))>=0&&l!==Ue.length-1&&ye(Ue[l+1]);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),et=function(e,t){for(var n=t,a=[],r=function(t){var r=n[t],i=r[e];i&&Object.keys(i).forEach((function(t){var n=i[t],c=M.a.get(ie,t,"");Array.isArray(n)&&("show"!==e||n.includes(c)||a.push(r),"hide"===e&&n.includes(c)&&a.push(r))}))},i=0;i<n.length;i+=1)r(i);for(var c=function(e){n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(a[e])}))},o=0;o<a.length;o+=1)c(o);return n},tt=function(e){var t={},n=function(e){for(var t=e,n=0;n<t.length;n+=1){var a=t[n];"options"===a.type&&(a.options=et("show",a.options),a.options=et("hide",a.options))}return t}(M.a.cloneDeep(te[e]||[]));n=Object($.m)(n,e,te[e],ie);for(var a=function(a){var r=n[a];e in ie&&r.name in ie[e]?(t[r.name]=ie[e][r.name],"options"===r.type&&(r.options.find((function(e){return e.name===t[r.name]}))||delete t[r.name])):t[r.name]=r.default||""},r=0;r<n.length;r+=1)a(r);t.submit=null,he(t),xe(function(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];"string"!==a.type||a.optional?"number"!==a.type||a.optional?"options"!==a.type&&"asyncOptions"!==a.type||a.optional||(t[a.name]=A.c().required("".concat(a.label," is required. Type: ").concat(a.type))):t[a.name]=A.a().required("".concat(a.label," is required. Type: ").concat(a.type)):t[a.name]=A.c().required("".concat(a.label," is required. Type: ").concat(a.type))}return t}(n)),de(n)},nt=function(e,t){var n={networks:{},credentials:{},contractInfo:{}};if(e){if(n.networks={network:e.network,submit:!0},n.contractInfo=Object(j.a)(Object(j.a)({},e),{},{submit:!0}),e.providerCredential)try{n.credentials=JSON.parse(e.providerCredential)}catch(a){console.error(a)}}else n.networks=Object($.n)(t.networks),n.credentials=Object($.n)(t.credentials),n.contractInfo=Object($.n)(t.contractInfo);return n};Object(r.useEffect)((function(){if(He.data){var e=He.data;ce(nt(e)),ye("networks")}}),[He.data]),Object(r.useEffect)((function(){t&&"ADD"===n.type?(qe(),ce(nt(null,te)),ye("networks")):t&&"EDIT"===n.type&&n.id&&(qe(),He.request(n.id))}),[t,n]),Object(r.useEffect)((function(){te&&ie&&ve&&(tt(ve),function(){for(var e=0;e<Ue.length;e+=1){var t=Ue[e];if(!ie[t]||!ie[t].submit)return void Ve(!1)}Ve(!0)}())}),[te,ie,ve]);var at=t?Object(Q.jsxs)(x.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Q.jsx)(m.a,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:n.title}),Object(Q.jsxs)(g.a,{children:["ADD"===n.type&&Object(Q.jsx)(v.a,{sx:{mb:1},icon:Object(Q.jsx)(F.k,{}),label:"You can only add contract which has been publicly verified",color:"warning"}),ie&&ie.contractInfo&&ie.contractInfo.address&&"EDIT"===n.type&&Object(Q.jsxs)(o.a,{sx:{p:2},children:[Object(Q.jsx)(y.a,{sx:{p:1},variant:"overline",children:"ADDRESS"}),Object(Q.jsxs)(i.a,{direction:"row",sx:{p:1},children:[Object(Q.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:R.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:ie.contractInfo.address}),Object(Q.jsx)(w.a,{title:"Copy Address",color:"primary",onClick:function(){return navigator.clipboard.writeText(ie.contractInfo.address)},children:Object(Q.jsx)(F.h,{})}),Object(Q.jsx)(w.a,{title:"Open in Block Explorer",color:"primary",onClick:function(){return window.open("".concat(Y.e[ie.networks.network],"/address/").concat(ie.contractInfo.address),"_blank")},children:Object(Q.jsx)(F.a,{})})]})]}),Object(Q.jsxs)(o.a,{sx:{p:2},children:[Object(Q.jsxs)(C.a,{expanded:"networks"===ve,onChange:Je("networks"),children:[Object(Q.jsxs)(k.a,{expandIcon:Object(Q.jsx)(E.a,{}),"aria-controls":"networks-content",id:"networks-header",children:[Object(Q.jsx)(y.a,{variant:"h4",children:"Networks"}),ie&&ie.networks&&ie.networks.submit&&Object(Q.jsx)(S.a,{variant:"rounded",sx:Object(j.a)(Object(j.a)({},R.typography.smallAvatar),{},{borderRadius:"50%",background:R.palette.success.dark,color:"white",ml:2}),children:Object(Q.jsx)(F.d,{})})]}),Object(Q.jsx)(I.a,{children:Object(Q.jsx)(T.a,{paramsType:"networks",params:le,initialValues:be,nodeParamsValidation:Oe,valueChanged:Qe,onSubmit:Ze,setVariableSelectorState:function(){return null},onEditVariableDialogOpen:Xe})})]}),Object(Q.jsx)(B.a,{})]}),Object(Q.jsxs)(o.a,{sx:{p:2},children:[Object(Q.jsxs)(C.a,{expanded:"credentials"===ve,onChange:Je("credentials"),children:[Object(Q.jsxs)(k.a,{expandIcon:Object(Q.jsx)(E.a,{}),"aria-controls":"credentials-content",id:"credentials-header",children:[Object(Q.jsx)(y.a,{variant:"h4",children:"Credentials"}),ie&&ie.credentials&&ie.credentials.submit&&Object(Q.jsx)(S.a,{variant:"rounded",sx:Object(j.a)(Object(j.a)({},R.typography.smallAvatar),{},{borderRadius:"50%",background:R.palette.success.dark,color:"white",ml:2}),children:Object(Q.jsx)(F.d,{})})]}),Object(Q.jsx)(I.a,{children:Object(Q.jsx)(W.a,{paramsType:"credentials",initialParams:le,initialValues:be,initialValidation:Oe,valueChanged:Qe,paramsChanged:function(e,t){var n=e.find((function(e){return"credentialMethod"===e.name})),a=e.findIndex((function(e){return"credentialMethod"===e.name}));if(void 0!==n){var r=te[t].find((function(e){return"credentialMethod"===e.name}));void 0!==r&&(e[a].options=r.options)}var i=Object(j.a)(Object(j.a)({},te),{},Object(u.a)({},t,e));ne(i)},onSubmit:Ze})})]}),Object(Q.jsx)(B.a,{})]}),Object(Q.jsxs)(o.a,{sx:{p:2},children:[Object(Q.jsxs)(C.a,{expanded:"contractInfo"===ve,onChange:Je("contractInfo"),children:[Object(Q.jsxs)(k.a,{expandIcon:Object(Q.jsx)(E.a,{}),"aria-controls":"contractInfo-content",id:"contractInfo-header",children:[Object(Q.jsx)(y.a,{variant:"h4",children:"Contract Details"}),ie&&ie.contractInfo&&ie.contractInfo.submit&&Object(Q.jsx)(S.a,{variant:"rounded",sx:Object(j.a)(Object(j.a)({},R.typography.smallAvatar),{},{borderRadius:"50%",background:R.palette.success.dark,color:"white",ml:2}),children:Object(Q.jsx)(F.d,{})})]}),Object(Q.jsxs)(I.a,{children:[Object(Q.jsx)(T.a,{paramsType:"contractInfo",params:le,initialValues:be,nodeParamsValidation:Oe,valueChanged:Qe,onSubmit:Ze,setVariableSelectorState:function(){return null},onEditVariableDialogOpen:Xe}),ke&&Object(Q.jsx)(v.a,{sx:{mt:2,mb:1},icon:Object(Q.jsx)(F.B,{}),label:"Invalid Contract Address",color:"error"}),De&&Object(Q.jsx)(v.a,{sx:{mt:2,mb:1,ml:ke?2:0},icon:Object(Q.jsx)(F.B,{}),label:De,color:"error"})]})]}),Object(Q.jsx)(B.a,{})]}),Object(Q.jsx)(z.a,{show:Te,dialogProps:_e,onCancel:function(){return We(!1)},onConfirm:function(e){Qe(e,ve),We(!1)}},JSON.stringify(_e))]}),Object(Q.jsxs)(D.a,{children:[Object(Q.jsx)(s.a,{onClick:c,children:n.cancelButtonName}),"EDIT"===n.type&&Object(Q.jsx)(s.a,{variant:"contained",color:"error",onClick:function(){return $e()},children:"Delete"}),Object(Q.jsx)(s.a,{variant:"contained",disabled:!Ae,onClick:function(){return"ADD"===n.type?Ge():Ye()},children:n.confirmButtonName})]})]}):null;return Object(p.createPortal)(at,d)},ee=n.p+"static/media/contract_empty.2c9c811e.svg";t.default=function(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),n=t[0],u=t[1],j=Object(r.useState)(!1),b=Object(a.a)(j,2),h=b[0],p=b[1],f=Object(r.useState)({}),O=Object(a.a)(f,2),x=O[0],m=O[1],g=Object(G.a)(L);return Object(r.useEffect)((function(){g.request()}),[]),Object(r.useEffect)((function(){u(g.loading)}),[g.loading]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(l.a,{children:[Object(Q.jsxs)(i.a,{flexDirection:"row",children:[Object(Q.jsx)("h1",{children:"Contracts"}),Object(Q.jsxs)(c.a,{sx:{mb:1.25},container:!0,direction:"row",children:[Object(Q.jsx)(o.a,{sx:{flexGrow:1}}),Object(Q.jsx)(c.a,{item:!0,children:Object(Q.jsx)(s.a,{variant:"contained",sx:{color:"white"},onClick:function(){m({title:"Add New Contract",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),p(!0)},children:"Add New"})})]})]}),Object(Q.jsx)(c.a,{container:!0,spacing:Y.d,children:!n&&g.data&&g.data.map((function(e,t){return Object(Q.jsx)(c.a,{item:!0,lg:4,md:6,sm:6,xs:12,children:Object(Q.jsx)(d.a,{isLoading:n,onClick:function(){return t=e._id,m({title:"Edit Contract",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",id:t}),void p(!0);var t},data:e})},t)}))}),!n&&(!g.data||0===g.data.length)&&Object(Q.jsxs)(i.a,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[Object(Q.jsx)(o.a,{sx:{p:2,height:"auto"},children:Object(Q.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:ee,alt:"ContractEmptySVG"})}),Object(Q.jsx)("div",{children:"No Contracts Yet"})]})]}),Object(Q.jsx)(Z,{show:h,dialogProps:x,onCancel:function(){return p(!1)},onConfirm:function(){p(!1),g.request()}})]})}}}]);
//# sourceMappingURL=9.b80f5295.chunk.js.map