(this["webpackJsonpouterbridge-ui"]=this["webpackJsonpouterbridge-ui"]||[]).push([[12],{251:function(e,t,n){"use strict";var a=n(7),r=n(9),c=n(26),i=n(186),o=n(672),s=n(104),l=n(151),d=n(209),j=n(678),u=n(680),b=n(673),h=n(1),O=function(){return Object(h.jsx)(j.a,{children:Object(h.jsx)(u.a,{children:Object(h.jsxs)(o.a,{container:!0,direction:"column",children:[Object(h.jsx)(o.a,{item:!0,children:Object(h.jsxs)(o.a,{container:!0,justifyContent:"space-between",children:[Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",width:44,height:44})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",width:34,height:34})})]})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",sx:{my:2},height:40})}),Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(b.a,{variant:"rectangular",height:30})})]})})})},x=n(34),f=n(282),p=n.n(f),m=Object(r.a)(d.a)((function(e){return{backgroundColor:"#ffffff",color:e.theme.darkTextPrimary,overflow:"hidden",position:"relative",boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",cursor:"pointer","&:hover":{boxShadow:"0 2px 14px 0 rgb(32 40 45 / 20%)"}}}));t.a=function(e){var t=e.isLoading,n=e.data,r=e.images,d=e.onClick,j=Object(c.a)(),u={height:24,padding:"0 6px"},b=Object(a.a)(Object(a.a)({},u),{},{color:j.palette.success.dark,backgroundColor:j.palette.success.light}),w=function(e){return x.f.find((function(t){return t.name===e}))};return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(O,{}):Object(h.jsx)(m,{border:!1,content:!1,onClick:d,children:Object(h.jsx)(i.a,{sx:{p:2.25},children:Object(h.jsxs)(o.a,{container:!0,direction:"column",children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.address&&Object(h.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white",marginRight:10},children:Object(h.jsx)(p.a,{diameter:40,seed:Object(f.jsNumberForAddress)(n.address)})}),Object(h.jsx)(s.a,{sx:{fontSize:"1.5rem",fontWeight:500},children:n.name})]}),Object(h.jsxs)(o.a,{sx:{mt:1,mb:1},container:!0,direction:"row",children:[Object(h.jsxs)(o.a,{item:!0,sx:{flexGrow:1},children:[n.address&&Object(h.jsx)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:j.palette.secondary[200],overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:250},children:"".concat(n.address.substring(0,8),"...").concat(n.address.slice(-4))}),n.flowData&&Object(h.jsxs)(s.a,{sx:{fontSize:"1rem",fontWeight:500,color:j.palette.secondary[200]},children:["Total Executions: ",n.executionCount||"0"]})]}),n.deployed&&Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(l.a,{label:"Deployed",sx:b})})]}),n.network&&Object(h.jsx)(o.a,{item:!0,children:Object(h.jsx)(l.a,{label:w(n.network).label,sx:Object(a.a)(Object(a.a)({},u),{},{backgroundColor:w(n.network).color,color:"white"})})}),r&&Object(h.jsx)("div",{style:{display:"flex",flexDirection:"row",marginTop:10},children:r.map((function(e){return Object(h.jsx)("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"white"},children:Object(h.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:e})},e)}))})]})})})})}},670:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),c=n(654),i=n(672),o=n(186),s=n(674),l=n(26),d=n(209),j=n(251),u=n(19),b=n(3),h=n(7),O=n(203),x=n(218),f=n(24),p=n(25),m=n(16),w=n(686),g=n(658),v=n(687),y=n(104),k=n(684),C=n(676),I=n(688),S=n(150),T=n(689),D=n(188),E=n(690),N=n(250),A=n.n(N),B=n(228),M=n(220),R=n.n(M),P=n(278),W=n(279),V=n(33),q=n(214),F=function(){return q.a.get("/wallets")},K=function(e){return q.a.get("/wallets/".concat(e))},J=function(e){return q.a.post("/wallets",e)},z=function(e,t){return q.a.put("/wallets/".concat(e),t)},G=function(e){return q.a.delete("/wallets/".concat(e))},L=function(e){return q.a.get("/wallets/credential/".concat(e))},_=n(215),Y=n(34),H=n(207),Q=n(247),U=n(1),X=function(e){var t=e.show,n=e.dialogProps,i=e.onCancel,d=e.onConfirm,j=document.getElementById("portal"),N=Object(l.a)(),M=Object(p.b)();Object(Q.a)();var q=function(){return M(m.o.apply(void 0,arguments))},F=function(){return M(m.n.apply(void 0,arguments))},X=Object(r.useState)(Y.h),Z=Object(a.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)({}),ne=Object(a.a)(te,2),ae=ne[0],re=ne[1],ce=Object(r.useState)([]),ie=Object(a.a)(ce,2),oe=ie[0],se=ie[1],le=Object(r.useState)({}),de=Object(a.a)(le,2),je=de[0],ue=de[1],be=Object(r.useState)({}),he=Object(a.a)(be,2),Oe=he[0],xe=he[1],fe=Object(r.useState)({}),pe=Object(a.a)(fe,2),me=pe[0],we=pe[1],ge=Object(r.useState)(!1),ve=Object(a.a)(ge,2),ye=ve[0],ke=ve[1],Ce=Object(r.useState)(!1),Ie=Object(a.a)(Ce,2),Se=Ie[0],Te=Ie[1],De=["networks","credentials","walletInfo"],Ee=Object(_.a)(K),Ne=Object(_.a)(L),Ae=function(e){return function(t,n){ke(!!n&&e)}},Be=function(){re({}),se([]),ue({}),xe({}),we({}),Te(!1),ke(!1)},Me=function(){var e=Object(x.a)(Object(O.a)().mark((function e(t){var n;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={network:ae.networks.network,name:ae.walletInfo.name,providerCredential:JSON.stringify(ae.credentials)},"IMPORT"===t&&(n.privateKey=ae.walletInfo.privateKey),e.next=4,J(n);case 4:e.sent.data?(q({message:"New wallet added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),d()):(q({message:"Failed to add new wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),i());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(x.a)(Object(O.a)().mark((function e(){var t;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={network:ae.networks.network,name:ae.walletInfo.name,providerCredential:JSON.stringify(ae.credentials)},e.next=3,z(n.id,t);case 3:e.sent.data?(q({message:"Wallet saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),d()):(q({message:"Failed to save wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),i());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(x.a)(Object(O.a)().mark((function e(){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(n.id);case 2:e.sent.data?(q({message:"Wallet deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),d()):(q({message:"Failed to delete wallet",options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:function(e){return Object(U.jsx)(s.a,{style:{color:"white"},onClick:function(){return F(e)},children:Object(U.jsx)(V.B,{})})}}}),i());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(e,t){var n=Object(h.a)(Object(h.a)({},ae),{},Object(b.a)({},t,e)),a=De.indexOf(t);if(a>=0&&a!==De.length-1)for(var r=a+1;r<De.length;r+=1){var c=De[r];n[c]&&(n[c].submit=null)}re(n)},Ve=function(){var e=Object(x.a)(Object(O.a)().mark((function e(t,n){var a,r;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(h.a)(Object(h.a)({},ae),{},Object(b.a)({},n,t)),re(a),(r=De.indexOf(n))>=0&&r!==De.length-1?ke(De[r+1]):r===De.length-1&&ke(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(e,t){for(var n=t,a=[],r=function(t){var r=n[t],c=r[e];c&&Object.keys(c).forEach((function(t){var n=c[t],i=R.a.get(ae,t,"");Array.isArray(n)&&("show"!==e||n.includes(i)||a.push(r),"hide"===e&&n.includes(i)&&a.push(r))}))},c=0;c<n.length;c+=1)r(c);for(var i=function(e){n=n.filter((function(t){return JSON.stringify(t)!==JSON.stringify(a[e])}))},o=0;o<a.length;o+=1)i(o);return n},Fe=function(e){var t,a={},r=function(e){for(var t=e,n=0;n<t.length;n+=1){var a=t[n];"options"===a.type&&(a.options=qe("show",a.options),a.options=qe("hide",a.options))}return t}(R.a.cloneDeep($[e]||[]));(r=Object(H.m)(r,e,$[e],ae),"IMPORT"===n.type&&"walletInfo"===e)&&(t=r).push.apply(t,Object(u.a)(Y.g));for(var c=function(t){var n=r[t];e in ae&&n.name in ae[e]?(a[n.name]=ae[e][n.name],"options"===n.type&&(n.options.find((function(e){return e.name===a[n.name]}))||delete a[n.name])):a[n.name]=n.default||""},i=0;i<r.length;i+=1)c(i);a.submit=null,ue(a),xe(function(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];"string"!==a.type||a.optional?"number"!==a.type||a.optional?"options"!==a.type&&"asyncOptions"!==a.type||a.optional||(t[a.name]=B.c().required("".concat(a.label," is required. Type: ").concat(a.type))):t[a.name]=B.a().required("".concat(a.label," is required. Type: ").concat(a.type)):t[a.name]=B.c().required("".concat(a.label," is required. Type: ").concat(a.type))}return t}(r)),se(r)},Ke=function(e,t){var n={networks:{},credentials:{},walletInfo:{}};if(e){if(n.networks={network:e.network,submit:!0},n.walletInfo=Object(h.a)(Object(h.a)({},e),{},{submit:!0}),e.providerCredential)try{n.credentials=JSON.parse(e.providerCredential)}catch(a){console.error(a)}}else n.networks=Object(H.n)(t.networks),n.credentials=Object(H.n)(t.credentials),n.walletInfo=Object(H.n)(t.walletInfo);return n};Object(r.useEffect)((function(){if(Ee.data){var e=Ee.data;re(Ke(e)),ke("networks")}}),[Ee.data]),Object(r.useEffect)((function(){if(Ne.data){var e=Ne.data;we(e)}}),[Ne.data]),Object(r.useEffect)((function(){!t||"ADD"!==n.type&&"IMPORT"!==n.type?t&&"EDIT"===n.type&&n.id&&(Be(),Ee.request(n.id)):(Be(),re(Ke(null,$)),ke("networks"))}),[t,n]),Object(r.useEffect)((function(){$&&ae&&ye&&(Fe(ye),function(){for(var e=0;e<De.length;e+=1){var t=De[e];if(!ae[t]||!ae[t].submit)return void Te(!1)}Te(!0)}())}),[$,ae,ye]);var Je=t?Object(U.jsxs)(w.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(U.jsx)(g.a,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:n.title}),Object(U.jsxs)(v.a,{children:[ae&&ae.walletInfo&&ae.walletInfo.address&&"EDIT"===n.type&&Object(U.jsxs)(o.a,{sx:{p:2},children:[Object(U.jsx)(y.a,{sx:{p:1},variant:"overline",children:"BALANCE"}),Object(U.jsx)(y.a,{sx:{p:1,mb:1},variant:"h3",children:ae.walletInfo.balance}),Object(U.jsx)(y.a,{sx:{p:1},variant:"overline",children:"ADDRESS"}),Object(U.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(U.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:N.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:ae.walletInfo.address}),Object(U.jsx)(k.a,{title:"Copy Address",color:"primary",onClick:function(){return navigator.clipboard.writeText(ae.walletInfo.address)},children:Object(U.jsx)(V.h,{})}),Object(U.jsx)(k.a,{title:"Open in Block Explorer",color:"primary",onClick:function(){return window.open("".concat(Y.e[ae.networks.network],"/address/").concat(ae.walletInfo.address),"_blank")},children:Object(U.jsx)(V.a,{})})]}),me&&me.privateKey&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(y.a,{sx:{p:1},variant:"overline",children:"PRIVATE KEY"}),Object(U.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(U.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:N.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:me.privateKey}),Object(U.jsx)(k.a,{title:"Copy Key",color:"primary",onClick:function(){return navigator.clipboard.writeText(me.privateKey)},children:Object(U.jsx)(V.h,{})})]})]}),me&&me.mnemonic&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(y.a,{sx:{p:1},variant:"overline",children:"mnemonic"}),Object(U.jsxs)(c.a,{direction:"row",sx:{p:1,mb:1},children:[Object(U.jsx)(y.a,{sx:{p:1,borderRadius:10,backgroundColor:N.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:me.mnemonic}),Object(U.jsx)(k.a,{title:"Copy Mnemonic",color:"primary",onClick:function(){return navigator.clipboard.writeText(me.mnemonic)},children:Object(U.jsx)(V.h,{})})]})]}),!Object.keys(me).length&&Object(U.jsx)(s.a,{size:"small",sx:{ml:1},variant:"contained",startIcon:Object(U.jsx)(V.o,{}),onClick:function(){return Ne.request(n.id)},children:"View PrivateKey and Mnemonic"})]}),Object(U.jsxs)(o.a,{sx:{p:2},children:[Object(U.jsxs)(C.a,{expanded:"networks"===ye,onChange:Ae("networks"),children:[Object(U.jsxs)(I.a,{expandIcon:Object(U.jsx)(A.a,{}),"aria-controls":"networks-content",id:"networks-header",children:[Object(U.jsx)(y.a,{variant:"h4",children:"Networks"}),ae&&ae.networks&&ae.networks.submit&&Object(U.jsx)(S.a,{variant:"rounded",sx:Object(h.a)(Object(h.a)({},N.typography.smallAvatar),{},{borderRadius:"50%",background:N.palette.success.dark,color:"white",ml:2}),children:Object(U.jsx)(V.d,{})})]}),Object(U.jsx)(T.a,{children:Object(U.jsx)(P.a,{paramsType:"networks",params:oe,initialValues:je,nodeParamsValidation:Oe,valueChanged:We,onSubmit:Ve,setVariableSelectorState:function(){return null}})})]}),Object(U.jsx)(D.a,{})]}),Object(U.jsxs)(o.a,{sx:{p:2},children:[Object(U.jsxs)(C.a,{expanded:"credentials"===ye,onChange:Ae("credentials"),children:[Object(U.jsxs)(I.a,{expandIcon:Object(U.jsx)(A.a,{}),"aria-controls":"credentials-content",id:"credentials-header",children:[Object(U.jsx)(y.a,{variant:"h4",children:"Credentials"}),ae&&ae.credentials&&ae.credentials.submit&&Object(U.jsx)(S.a,{variant:"rounded",sx:Object(h.a)(Object(h.a)({},N.typography.smallAvatar),{},{borderRadius:"50%",background:N.palette.success.dark,color:"white",ml:2}),children:Object(U.jsx)(V.d,{})})]}),Object(U.jsx)(T.a,{children:Object(U.jsx)(W.a,{paramsType:"credentials",initialParams:oe,initialValues:je,initialValidation:Oe,valueChanged:We,paramsChanged:function(e,t){var n=e.find((function(e){return"credentialMethod"===e.name})),a=e.findIndex((function(e){return"credentialMethod"===e.name}));if(void 0!==n){var r=$[t].find((function(e){return"credentialMethod"===e.name}));void 0!==r&&(e[a].options=r.options)}var c=Object(h.a)(Object(h.a)({},$),{},Object(b.a)({},t,e));ee(c)},onSubmit:Ve})})]}),Object(U.jsx)(D.a,{})]}),Object(U.jsxs)(o.a,{sx:{p:2},children:[Object(U.jsxs)(C.a,{expanded:"walletInfo"===ye,onChange:Ae("walletInfo"),children:[Object(U.jsxs)(I.a,{expandIcon:Object(U.jsx)(A.a,{}),"aria-controls":"walletInfo-content",id:"walletInfo-header",children:[Object(U.jsx)(y.a,{variant:"h4",children:"Wallet Details"}),ae&&ae.walletInfo&&ae.walletInfo.submit&&Object(U.jsx)(S.a,{variant:"rounded",sx:Object(h.a)(Object(h.a)({},N.typography.smallAvatar),{},{borderRadius:"50%",background:N.palette.success.dark,color:"white",ml:2}),children:Object(U.jsx)(V.d,{})})]}),Object(U.jsx)(T.a,{children:Object(U.jsx)(P.a,{paramsType:"walletInfo",params:oe,initialValues:je,nodeParamsValidation:Oe,valueChanged:We,onSubmit:Ve,setVariableSelectorState:function(){return null}})})]}),Object(U.jsx)(D.a,{})]})]}),Object(U.jsxs)(E.a,{children:[Object(U.jsx)(s.a,{onClick:i,children:n.cancelButtonName}),"EDIT"===n.type&&Object(U.jsx)(s.a,{variant:"contained",color:"error",onClick:function(){return Pe()},children:"Delete"}),Object(U.jsx)(s.a,{variant:"contained",disabled:!Se,onClick:function(){return"ADD"===n.type||"IMPORT"===n.type?Me(n.type):Re()},children:n.confirmButtonName})]})]}):null;return Object(f.createPortal)(Je,j)},Z=n.p+"static/media/wallet_empty.f647428f.svg";t.default=function(){var e=Object(l.a)(),t=Object(r.useState)(!0),n=Object(a.a)(t,2),u=n[0],b=n[1],h=Object(r.useState)(!1),O=Object(a.a)(h,2),x=O[0],f=O[1],p=Object(r.useState)({}),m=Object(a.a)(p,2),w=m[0],g=m[1],v=Object(_.a)(F);return Object(r.useEffect)((function(){v.request()}),[]),Object(r.useEffect)((function(){b(v.loading)}),[v.loading]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(d.a,{children:[Object(U.jsxs)(c.a,{flexDirection:"row",children:[Object(U.jsx)("h1",{children:"Wallets"}),Object(U.jsxs)(i.a,{sx:{mb:1.25},container:!0,direction:"row",children:[Object(U.jsx)(o.a,{sx:{flexGrow:1}}),Object(U.jsxs)(i.a,{item:!0,children:[Object(U.jsx)(s.a,{variant:"contained",sx:{color:"white",mr:2},onClick:function(){g({title:"Add New Wallet",type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add"}),f(!0)},children:"Add New"}),Object(U.jsx)(s.a,{variant:"contained",sx:{color:"white",backgroundColor:e.palette.secondary.main},onClick:function(){g({title:"Import Wallet",type:"IMPORT",cancelButtonName:"Cancel",confirmButtonName:"IMPORT"}),f(!0)},children:"Import Wallet"})]})]})]}),Object(U.jsx)(i.a,{container:!0,spacing:Y.d,children:!u&&v.data&&v.data.map((function(e,t){return Object(U.jsx)(i.a,{item:!0,lg:4,md:6,sm:6,xs:12,children:Object(U.jsx)(j.a,{isLoading:u,onClick:function(){return t=e._id,g({title:"Edit Wallet",type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",id:t}),void f(!0);var t},data:e})},t)}))}),!u&&(!v.data||0===v.data.length)&&Object(U.jsxs)(c.a,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[Object(U.jsx)(o.a,{sx:{p:2,height:"auto"},children:Object(U.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:Z,alt:"WalletEmptySVG"})}),Object(U.jsx)("div",{children:"No Wallets Yet"})]})]}),Object(U.jsx)(X,{show:x,dialogProps:w,onCancel:function(){return f(!1)},onConfirm:function(){f(!1),v.request()}})]})}}}]);
//# sourceMappingURL=12.67ca7511.chunk.js.map