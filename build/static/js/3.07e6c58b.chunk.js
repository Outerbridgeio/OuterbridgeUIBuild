(this["webpackJsonpouterbridge-ui"]=this["webpackJsonpouterbridge-ui"]||[]).push([[3],{212:function(e,t,n){"use strict";n.d(t,"o",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"b",(function(){return j})),n.d(t,"n",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return O})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"e",(function(){return w}));var r=n(19),a=n(224),i=n.n(a),c=n(307),o=n.n(c),l=/^(\d+\.?\d*|{{.*}})$/,s=function(e,t,n){var a=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={},a={},i=0;i<e.length;i+=1){var c=e[i].id;a[c]=0,r[c]=[]}for(var o=0;o<t.length;o+=1){var l=t[o].source,s=t[o].target;Object.prototype.hasOwnProperty.call(r,l)?r[l].push(s):r[l]=[s],n&&(Object.prototype.hasOwnProperty.call(r,s)?r[s].push(l):r[s]=[l]),a[s]+=1}return{graph:r,nodeDependencies:a}}(e,t,!0),i=function(e,t,n){var r=[],a=[];r.push(e),a.push(e);for(var i=function(){var e=r.shift()||"",i=[],c=t.filter((function(t){return t.target===e&&t.targetHandle.includes("-input-")}));if(c&&c.length)for(var o=0;o<c.length;o+=1)i.push(c[o].source);for(var l=n[e],s=0;s<l.length;s+=1){var d=l[s];i.includes(d)&&(a.includes(d)||(a.push(d),r.push(d)))}};r.length;)i();return a}(n,t,a.graph),c=new Set(i);return c.delete(n),Object(r.a)(c)},d=function(){var e="abcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:15}).map((function(){return e.charAt(Math.floor(Math.random()*e.length))})).join("")},u=function(e,t){for(var n=0,r=0;r<t.length;r+=1){t[r].data.name===e.name&&(n+=1)}for(var a="".concat(e.name,"_").concat(n),i=0;i<t.length;i+=1){t[i].id===a&&(n+=1,a="".concat(e.name,"_").concat(n))}return a},j=function(e,t){for(var n=0;n<t.length;n+=1){if(t[n].data.label===e)return!1}return!0},b=function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n];if(t[r.name]=r.default||"","array"===r.type&&!r.default){for(var a={},i=0;i<r.array.length;i+=1)a[r.array[i].name]=r.array[i].default||"";t[r.name]=[a]}}return t.submit=null,t},h=function(e,t,n){for(var r=e.incoming||0,a=e.outgoing||0,i=[],c=0;c<r;c+=1){var o={id:"".concat(n,"-input-").concat(c)};i.push(o)}for(var l=[],s=0;s<a;s+=1){var d={id:"".concat(n,"-output-").concat(s)};l.push(d)}return e.inputAnchors=i,e.outputAnchors=l,e.label=function(e,t){for(var n=0,r=0;r<t.length;r+=1)t[r].data.name===e.name&&(n+=1);for(var a="".concat(e.label,"_").concat(n),i=0;i<t.length;i+=1)t[i].data.label===a&&(n+=1,a="".concat(e.label,"_").concat(n));return 0===n?e.label:a}(e,t),e.actions&&(e.actions=b(e.actions)),e.credentials&&(e.credentials=b(e.credentials)),e.networks&&(e.networks=b(e.networks)),e.inputParameters&&(e.inputParameters=b(e.inputParameters)),e},p=function(e){var t=e.split("-");return t.length&&t[0].includes("ifElse")?"0"===t[t.length-1]?"true":"false":""},f=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if("webhook"===n.data.type||"trigger"===n.data.type)return!0}return!1},x=function(e){if(void 0!==e&&e){var t=o()(e);if(t.isValid)return new Date(t.year(),t.month(),t.date(),t.hours(),t.minutes())}},O=function(e){var t=e.split(",");return t[t.length-1].split(":")[1]},g=function(e){try{for(var t=JSON.parse(e),n=[],r=0;r<t.length;r+=1){var a=t[r].split(","),i=a[a.length-1].split(":")[1];n.push(i)}return n.length?n.join(","):""}catch(c){return""}},m=function(e){for(var t=e.nodes,n=e.edges,r=0;r<t.length;r+=1){t[r].selected=!1;var a=t[r],i={label:a.data.label,name:a.data.name,type:a.data.type,inputAnchors:a.data.inputAnchors,outputAnchors:a.data.outputAnchors,selected:!1};t[r].data=i}return{nodes:t,edges:n}},v=function(e,t,n){if(n[t]&&n[t].credentialMethod){for(var r=e,a=0;a<r.length;a+=1){var i=r[a];if("options"===i.type){var c=i.options.find((function(e){return e.name===n[t].credentialMethod}));if(c&&void 0!==c&&c.hideRegisteredCredential)return!0}}return!1}},y=function(e,t,n,r){return"credentials"!==t||void 0!==e.find((function(e){return"registeredCredential"===e.name}))||void 0===e.find((function(e){return"credentialMethod"===e.name}))||v(i.a.cloneDeep(n),t,r)?("credentials"===t&&void 0!==e.find((function(e){return"registeredCredential"===e.name}))&&void 0!==e.find((function(e){return"credentialMethod"===e.name}))&&v(i.a.cloneDeep(n),t,r)||"credentials"===t&&void 0===e.find((function(e){return"credentialMethod"===e.name})))&&(e=e.filter((function(e){return"registeredCredential"!==e.name}))):e.push({name:"registeredCredential"}),e},w=function(e){var t=e.src;Array.isArray(t)||"object"===typeof t?navigator.clipboard.writeText(JSON.stringify(t,null,"  ")):navigator.clipboard.writeText(t)}},214:function(e,t,n){"use strict";var r=n(7),a=n(215),i=n(0),c=n(26),o=n(690),l=n(691),s=n(108),d=n(193),u=n(692),j=n(1),b=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],h={"& .MuiCardHeader-action":{mr:0}},p=Object(i.forwardRef)((function(e,t){var n=e.border,i=void 0===n||n,p=e.boxShadow,f=e.children,x=e.content,O=void 0===x||x,g=e.contentClass,m=void 0===g?"":g,v=e.contentSX,y=void 0===v?{}:v,w=e.darkTitle,C=e.secondary,S=e.shadow,k=e.sx,R=void 0===k?{}:k,B=e.title,E=Object(a.a)(e,b),M=Object(c.a)();return Object(j.jsxs)(o.a,Object(r.a)(Object(r.a)({ref:t},E),{},{sx:Object(r.a)({border:i?"1px solid":"none",borderColor:M.palette.primary[200]+75,":hover":{boxShadow:p?S||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"}},R),children:[!w&&B&&Object(j.jsx)(l.a,{sx:h,title:B,action:C}),w&&B&&Object(j.jsx)(l.a,{sx:h,title:Object(j.jsx)(s.a,{variant:"h3",children:B}),action:C}),B&&Object(j.jsx)(d.a,{}),O&&Object(j.jsx)(u.a,{sx:y,className:m,children:f}),!O&&f]}))}));t.a=p},219:function(e,t,n){"use strict";var r=n(255),a=n.n(r),i=n(34),c=a.a.create({baseURL:"".concat(i.a,"/api/v1"),headers:{"Content-type":"application/json"}});t.a=c},220:function(e,t,n){"use strict";var r=n(208),a=n(223),i=n(15),c=n(0);t.a=function(e){var t=Object(c.useState)(null),n=Object(i.a)(t,2),o=n[0],l=n[1],s=Object(c.useState)(null),d=Object(i.a)(s,2),u=d[0],j=d[1],b=Object(c.useState)(!1),h=Object(i.a)(b,2),p=h[0],f=h[1],x=function(){var t=Object(a.a)(Object(r.a)().mark((function t(){var n,a=arguments;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,e.apply(void 0,a);case 4:n=t.sent,l(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),j(t.t0||"Unexpected Error!");case 11:return t.prev=11,f(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return{data:o,error:u,loading:p,request:x}}},241:function(e,t,n){},246:function(e,t,n){"use strict";var r=n(15),a=n(0),i=n(709),c=n(674),o=n(1),l=Object(a.forwardRef)((function(e,t){var n,a,l,s,d=e.children,u=e.type,j=e.direction,b=e.offset,h=e.scale;switch(j){case"up":case"left":l=b,s=0;break;default:l=0,s=b}var p=Object(i.a)(l,s),f=Object(r.a)(p,2),x=f[0],O=f[1],g=Object(i.a)(l,s),m=Object(r.a)(g,2),v=m[0],y=m[1];switch(u){case"rotate":return Object(o.jsx)(c.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===j||"down"===j?Object(o.jsx)(c.a.div,{ref:t,animate:{y:void 0!==v?v:""},onHoverEnd:function(){return y()},onHoverStart:function(){return y()},children:d}):Object(o.jsx)(c.a.div,{ref:t,animate:{x:void 0!==x?x:""},onHoverEnd:function(){return O()},onHoverStart:function(){return O()},children:d});default:return"number"===typeof h&&(h={hover:h,tap:h}),Object(o.jsx)(c.a.div,{ref:t,whileHover:{scale:null===(n=h)||void 0===n?void 0:n.hover},whileTap:{scale:null===(a=h)||void 0===a?void 0:a.tap},children:d})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=l},259:function(e,t,n){"use strict";var r=n(0);t.a=function(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},263:function(e,t,n){"use strict";var r=n(7),a=n(19),i=n(0),c=n.n(i),o=n(25),l=n(90),s=n(16),d=[];t.a=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.notifier})).notifications,n=Object(l.b)(),i=n.enqueueSnackbar,u=n.closeSnackbar;c.a.useEffect((function(){t.forEach((function(t){var n,c=t.key,o=t.message,l=t.options,j=void 0===l?{}:l,b=t.dismissed;void 0!==b&&b?u(c):d.includes(c)||(i(o,Object(r.a)(Object(r.a)({key:c},j),{},{onClose:function(e,t,n){j.onClose&&j.onClose(e,t,n)},onExited:function(t,n){var r;e(Object(s.p)(n)),r=n,d=Object(a.a)(d.filter((function(e){return r!==e})))}})),n=c,d=[].concat(Object(a.a)(d),[n]))}))}),[t,u,i,e])}},290:function(e,t,n){"use strict";var r=n(208),a=n(223),i=n(7),c=n(215),o=n(4),l=n(11),s=n.n(l),d=n(0),u=n(687),j=n(191),b=n(694),h=n(666),p=n(108),f=n(695),x=n(696),O=n(686),g=n(697),m=n(681),v=n(677),y=n(668),w=n(547),C=n(679),S=n(9),k=n(26),R=n(224),B=n.n(R),E=n(243),M=n(288),D=n(85),V=n.n(D),A=n(234),P=n.n(A),W=n(235),z=(n(236),n(237),n(238),n(239),n(240),n(279)),I=n.n(z),F=(n(277),n(259)),_=n(246),T=n(25),L=n(693),N=n(33),U=n(212),H=(n(241),n(1)),J=Object(S.a)(u.a)(Object(o.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(w.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),q=Object(d.forwardRef)((function(e,t){var n=e.value,r=e.onClick;return Object(H.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:r,ref:t,children:n})}));q.propTypes={value:s.a.string,onClick:s.a.func};var X=function(e){var t=e.initialValues,n=e.arrayParams,r=e.paramsType,a=e.arrayGroupName,c=e.errors,l=e.onArrayInputChange,s=e.onArrayInputBlur,d=e.onArrayItemRemove,u=e.onArrayItemMouseUp,w=e.onEditVariableDialogOpen,S=Object(k.a)(),R=Object(T.c)((function(e){return e.customization})),E=function(e,n,r,a){var c=Object(i.a)(Object(i.a)({},r),{},Object(o.a)({},n,e)),l=t;return l[a]=c,l},M=function(e,t,n,r){var a=E(e,t,n,r);l(a)},D=function(e,t,n,r){var a=E(e,t,n,r);s(a)},A=function(e,t,n){var i=e.target.selectionEnd,c=e.target.value.substring(0,i),o=e.target.value.substring(i,e.target.value.length),l="".concat(r,".").concat(a,"[").concat(n,"].").concat(t);u(!0,{textBeforeCursorPosition:c,textAfterCursorPosition:o,path:l,paramsType:r})};return Object(H.jsx)(H.Fragment,{children:n.map((function(e,r){var a=n[r]||[],o=t[r]||{};return Object(H.jsxs)(j.a,{sx:{p:2,mb:2,backgroundColor:S.palette.secondary.light,borderRadius:"".concat(R.borderRadius,"px"),position:"relative"},children:[n.length>1&&Object(H.jsx)(L.a,{sx:{minHeight:30,height:30,width:30,backgroundColor:S.palette.secondary.light,color:S.palette.secondary.main,position:"absolute",right:-10,top:-10},size:"small",onClick:function(){return function(e){var n=t;n.splice(e,1),d(n),u(!1)}(r)},children:Object(H.jsx)(N.B,{})}),a.map((function(e,t){if("file"===e.type||"folder"===e.type){var n=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][n]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),"file"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:S.palette.grey[800],marginBottom:"1rem"},children:o[n]?Object(U.j)(o[n]):"Choose a file to upload"}),"folder"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:S.palette.grey[800],marginBottom:"1rem"},children:o[n]?Object(U.k)(o[n]):"Choose a folder to upload"}),Object(H.jsxs)(O.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(H.jsx)(N.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(H.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,r,a){if(e.target.files){var i=e.target.files[0],c=i.name,o=new FileReader;o.onload=function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.target)&&void 0!==i&&i.result){var o=e.target.result+",filename:".concat(c);t(o,r,n,a)}},o.readAsDataURL(i)}}(e,setFieldValue,o,n,r)}}),"folder"===e.type&&Object(H.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,r,a){if(e.target.files){var i=e.target.files,c=new FileReader;!function e(o,l){if(o>=i.length)t(JSON.stringify(l),r,n,a);else{var s=i[o];c.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var r=t.target.result+",filepath:".concat(s.webkitRelativePath);l.push(r),e(o+1,B.a.cloneDeep(l))}},c.readAsDataURL(s)}}(0,[])}}(e,setFieldValue,o,n,r)}})]})]},"".concat(n,"_").concat(t))}if("json"===e.type||"code"===e.type){var a=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][a]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),Object(H.jsx)(O.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return w(e,o,r)},children:"Edit Variables"})]}),Object(H.jsx)(V.a,{style:{border:"1px solid",borderColor:S.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden"},onScroll:function(e){return e.stopPropagation()},children:Object(H.jsx)(P.a,{placeholder:e.placeholder,value:o[a]||"",onBlur:function(e){D(e.target.value,a,o,r),A(e,a,r)},onValueChange:function(e){return M(e,a,o,r)},onMouseUp:function(e){return A(e,a,r)},highlight:function(t){return Object(W.highlight)(t,"json"===e.type?W.languages.json:W.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})})]},"".concat(a,"_").concat(t))}if("date"===e.type){var l=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][l]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(I.a,{customInput:Object(H.jsx)(q,{}),selected:Object(U.d)(o[l])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;M(t,l,o,r),u(!1)}})]},"".concat(l,"_").concat(t))}if("string"===e.type||"password"===e.type||"number"===e.type){var s=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][s]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),("string"===e.type||"number"===e.type)&&Object(H.jsx)(O.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return w(e,o,r)},children:"Edit Variables"})]}),Object(H.jsx)(g.a,{id:s,type:"string"===e.type||"number"===e.type?"text":e.type,value:o[s]||"",placeholder:e.placeholder,name:s,onBlur:function(e){var t=e.target.value;D(t,s,o,r),A(e,s,r)},onChange:function(e){var t=e.target.value;M(t,s,o,r)},onMouseUp:function(e){return A(e,s,r)}})]},"".concat(s,"_").concat(t))}if("boolean"===e.type){var d=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][d]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(m.a,{checked:!!o[d],onChange:function(e){M(e.target.checked,d,o,r)},inputProps:{"aria-label":"controlled"}})]},"".concat(d,"_").concat(t))}if("options"===e.type){var k=e.name,R=e.options||[];return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(C.a,{id:k,freeSolo:!0,onOpen:function(){return u(!1)},options:R,value:(E=R,z=o[k],E.find((function(e){return e.name===z}))||""),onChange:function(e,t){var n=t?t.name:"";D(n,k,o,r)},PopperComponent:J,renderInput:function(e){return Object(H.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{value:o[k],error:!!(c&&c.length>0&&c[r])&&Boolean(c[r][k])}))},renderOption:function(e,t){return Object(H.jsx)(j.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(H.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}})]},"".concat(k,"_").concat(t))}var E,z;return null}))]},r)}))})},$=n(242),G=n.n($),Y=function(e){var t=e.value,n=e.options,r=Object(k.a)(),a=function(e){return n.find((function(t){return t.name===e}))},i=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.inputParameters||""},c=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleParameters||""},o=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleResponse||""};return Object(H.jsxs)(H.Fragment,{children:[a(t)&&i(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:r.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Parameters"}),Object(H.jsx)("div",{dangerouslySetInnerHTML:{__html:i(t)}})]}),a(t)&&c(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:r.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Example Parameters"}),Object(H.jsx)(G.a,{collapsed:!0,src:JSON.parse(c(t)),enableClipboard:function(e){return Object(U.e)(e)}})]}),a(t)&&o(t)&&Object(H.jsxs)(j.a,{sx:{p:1,mt:2,backgroundColor:r.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h6",children:"Example Response"}),Object(H.jsx)(G.a,{collapsed:!0,src:o(t),enableClipboard:function(e){return Object(U.e)(e)}})]})]})},K=n(15),Q=n(395),Z=n(255),ee=n.n(Z),te=n(34),ne=function(e){var t=e.title,n=e.description,r=e.value,a=e.loadMethod,c=e.loadFromDbCollections,o=e.nodeFlowData,l=e.error,s=e.onChange,u=e.onMenuOpen,j=e.onSetError,b=Object(k.a)(),O={option:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{paddingTop:15,paddingBottom:15,paddingLeft:20,paddingRight:20,cursor:"pointer",fontWeight:"500",backgroundColor:t.isSelected?b.palette.primary.light:"",color:"black","&:hover":{backgroundColor:b.palette.grey[200]}})},control:function(e){return Object(i.a)(Object(i.a)({},e),{},{cursor:"text",backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:6,paddingLeft:6,borderRadius:12,"&:hover":{borderColor:b.palette.grey[700]}})},singleValue:function(e){return Object(i.a)(Object(i.a)({},e),{},{fontWeight:"600"})},menuList:function(e){return Object(i.a)(Object(i.a)({},e),{},{boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"})}},g=Object(d.useState)([]),m=Object(K.a)(g,2),v=m[0],w=m[1];return Object(d.useEffect)((function(){return function(){return w([])}}),[]),Object(d.useEffect)((function(){void 0!==r&&(v.find((function(e){return e.name===r}))||j())}),[v]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:t}),n&&Object(H.jsx)(f.a,{title:n,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsxs)("div",{style:{position:"relative"},children:[Object(H.jsx)(Q.a,{styles:O,value:function(e){return v.find((function(t){return t.name===e}))}(r)||"",formatOptionLabel:function(e,t){var n=e.label,r=e.description,a=t.context;return Object(H.jsxs)(H.Fragment,{children:["menu"===a&&Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)("div",{children:n}),r&&Object(H.jsx)("span",{style:{fontWeight:400,paddingTop:10,paddingBottom:10},children:r})]}),"value"===a&&Object(H.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(H.jsx)("div",{children:n})})]})},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.name},loadOptions:function(e,t){ee.a.post("".concat(te.a,"/api/v1/node-load-method/").concat(o.name),Object(i.a)(Object(i.a)({},o),{},{loadMethod:a,loadFromDbCollections:c})).then((function(n){var r=function(e){for(var t=e,n=[],r=["show","hide"],a=function(e){for(var a=r[e],i=function(e){var r=t[e],i=r[a];i&&Object.keys(i).forEach((function(e){var t=i[e];e.includes("$index")&&(e=e.replace("$index",index));var c=B.a.get(o,e,"");Array.isArray(t)?("show"!==a||t.includes(c)||n.push(r),"hide"===a&&t.includes(c)&&n.push(r)):"string"===typeof t&&("show"!==a||t===c||new RegExp(t).test(c)||n.push(r),"hide"!==a||t!==c&&!new RegExp(t).test(c)||n.push(r))}))},c=0;c<t.length;c+=1)i(c)},i=0;i<r.length;i+=1)a(i);for(var c=function(e){t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(n[e])}))},l=0;l<n.length;l+=1)c(l);return t}((n.data||[]).filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())})));w(r),t(r)}))},defaultOptions:!0,onChange:s,onMenuOpen:u},JSON.stringify(o)),Object(H.jsx)("button",{style:{minHeight:10,height:27,width:30,backgroundColor:"#FAFAFA",color:b.palette.grey[500],position:"absolute",right:10,top:0,bottom:0,margin:"auto",border:"none",cursor:"pointer"},title:"Clear Selection",type:"button",onClick:function(){return s(null)},children:Object(H.jsx)(N.B,{})})]}),l&&Object(H.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:function(e){return e?"*".concat(e.replace(/["]/g,"")):""}(l)}),Object(H.jsx)(Y,{value:r,options:v})]})},re=["params","paramsType","initialValues","nodeParamsValidation","nodeFlowData","valueChanged","onSubmit","setVariableSelectorState","onEditVariableDialogOpen"],ae=Object(S.a)(u.a)(Object(o.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(w.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),ie=Object(d.forwardRef)((function(e,t){var n=e.value,r=e.onClick;return Object(H.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:r,ref:t,children:n})}));ie.propTypes={value:s.a.string,onClick:s.a.func};t.a=function(e){var t=e.params,n=e.paramsType,l=e.initialValues,s=e.nodeParamsValidation,d=e.nodeFlowData,u=e.valueChanged,w=e.onSubmit,S=e.setVariableSelectorState,R=e.onEditVariableDialogOpen,D=Object(c.a)(e,re),A=Object(k.a)(),z=Object(F.a)(),T=function(e){var t=e;t.submit=null,u(t,n)},L=function(e,t){var r=e.target.selectionEnd,a=e.target.value.substring(0,r),i=e.target.value.substring(r,e.target.value.length),c="".concat(n,".").concat(t);S(!0,{textBeforeCursorPosition:a,textAfterCursorPosition:i,path:c,paramsType:n})},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.name===t}))};return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(j.a,{sx:{width:400},children:Object(H.jsx)(M.a,{enableReinitialize:!0,initialValues:l,validationSchema:E.b().shape(s),onSubmit:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,a){var i,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.setErrors,c=a.setStatus,o=a.setSubmitting,S(!1);try{z.current&&(t.submit=!0,c({success:!0}),o(!1),w(t,n))}catch(r){console.error(r),z.current&&(c({success:!1}),i({submit:r.message}),o(!1))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var r=e.errors,a=e.handleBlur,c=e.handleChange,l=e.handleSubmit,s=e.setFieldValue,w=e.isSubmitting,k=e.values;return Object(H.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:l},D),{},{children:[t.map((function(e){if("file"===e.type||"folder"===e.type){var t=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(r[t]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),"file"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:k[t]?Object(U.j)(k[t]):"Choose a file to upload"}),"folder"===e.type&&Object(H.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:k[t]?Object(U.k)(k[t]):"Choose a folder to upload"}),Object(H.jsxs)(O.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(H.jsx)(N.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(H.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,r){if(S(!1),e.target.files){var a=e.target.files[0],c=a.name,l=new FileReader;l.onload=function(e){var a;if(null!==e&&void 0!==e&&null!==(a=e.target)&&void 0!==a&&a.result){var l=e.target.result+",filename:".concat(c);t(r,l);var s=Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},r,l));T(s)}},l.readAsDataURL(a)}}(e,s,k,t)}}),"folder"===e.type&&Object(H.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,r){if(S(!1),e.target.files){var a=e.target.files,c=new FileReader;!function e(l,s){if(l>=a.length){t(r,JSON.stringify(s));var d=Object(i.a)(Object(i.a)({},n),{},Object(o.a)({},r,JSON.stringify(s)));T(d)}else{var u=a[l];c.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var r=t.target.result+",filepath:".concat(u.webkitRelativePath);s.push(r),e(l+1,B.a.cloneDeep(s))}},c.readAsDataURL(u)}}(0,[])}}(e,s,k,t)}})]}),r[t]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",r[t]]})]},t)}if("json"===e.type||"code"===e.type){var l=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(r[l]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),Object(H.jsx)(O.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return R(e,k)},children:"Edit Variables"})]}),Object(H.jsx)(V.a,{style:{border:"1px solid",borderColor:A.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden"},onScroll:function(e){return e.stopPropagation()},children:Object(H.jsx)(P.a,{placeholder:e.placeholder,value:k[l]||"",onBlur:function(e){var t=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},l,e.target.value));T(t),L(e,l)},onValueChange:function(e){s(l,e)},onMouseUp:function(e){return L(e,l)},highlight:function(t){return Object(W.highlight)(t,"json"===e.type?W.languages.json:W.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),r[l]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",r[l]]})]},l)}if("date"===e.type){var w=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(r[w]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(I.a,{customInput:Object(H.jsx)(ie,{}),selected:Object(U.d)(k[w])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;S(!1),s(w,t);var n=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},w,t));T(n)}}),r[w]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",r[w]]})]},w)}if("string"===e.type||"password"===e.type||"number"===e.type){var E=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(r[E]),children:[Object(H.jsxs)(h.a,{sx:{position:"relative"},direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})}),("string"===e.type||"number"===e.type)&&Object(H.jsx)(O.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return R(e,k)},children:"Edit Variables"})]}),Object(H.jsx)(g.a,{id:E,type:"string"===e.type||"number"===e.type?"text":e.type,placeholder:e.placeholder,multiline:!!e.rows,maxRows:e.rows||0,minRows:e.rows||0,value:k[E]||"",name:E,onBlur:function(e){a(e),T(k),L(e,E)},onMouseUp:function(e){return L(e,E)},onChange:c}),r[E]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",r[E]]})]},E)}if("boolean"===e.type){var M=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(r[M]),children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(m.a,{checked:!!k[M],onChange:function(e){S(!1),s(M,e.target.checked);var t=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},M,e.target.checked));T(t)},inputProps:{"aria-label":"controlled"}})]},M)}if("asyncOptions"===e.type){var D=e.name;return Object(H.jsx)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:Object(H.jsx)(ne,{title:e.label,description:e.description,value:k[D],loadMethod:e.loadMethod,loadFromDbCollections:e.loadFromDbCollections||[],nodeFlowData:d,error:JSON.stringify(r[D]),onChange:function(e){var t=e?e.name:"";s(D,t);var n=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},D,t));T(n)},onMenuOpen:function(){return S(!1)},onSetError:function(){s(D,"")}})},D)}if("options"===e.type){var z=e.name;return Object(H.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(C.a,{id:z,freeSolo:!0,onOpen:function(){return S(!1)},options:e.options||[],value:J(e.options,k[z])||"",onChange:function(e,t){var n=t?t.name:"";s(z,n);var r=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},z,n));T(r)},onInputChange:function(e,t){t||s(z,"")},onBlur:a,PopperComponent:ae,renderInput:function(e){return Object(H.jsx)(v.a,Object(i.a)(Object(i.a)({},e),{},{value:k[z],error:Boolean(r[z])}))},renderOption:function(e,t){return Object(H.jsx)(j.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(H.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(H.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}}),r[z]&&Object(H.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",r[z]]}),Object(H.jsx)(Y,{value:k[z],options:e.options||[]})]},z)}if("array"===e.type){var F=e.arrayParams,q=e.array,$=e.name,G=k[$]||[];return Object(H.jsxs)(h.a,{sx:{mt:1},children:[Object(H.jsxs)(h.a,{direction:"row",children:[Object(H.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(H.jsx)(f.a,{title:e.description,placement:"right",children:Object(H.jsx)(x.a,{children:Object(H.jsx)(y.a,{style:{height:18,width:18}})})})]}),Object(H.jsx)(X,{initialValues:G,arrayParams:F,paramsType:n,arrayGroupName:$,errors:r[$]?r[$]:[],onArrayInputChange:function(e){s($,e)},onArrayInputBlur:function(e){s($,e);var t=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},$,e));T(t)},onArrayItemRemove:function(e){s($,e);var t=Object(i.a)(Object(i.a)({},k),{},Object(o.a)({},$,e));T(t)},onArrayItemMouseUp:function(e,t){t?S(e,t):S(e)},onEditVariableDialogOpen:function(t,n,r){R(e,k,{arrayItemInput:t,arrayItemValues:n,arrayItemIndex:r,initialValues:G})}}),Object(H.jsx)(j.a,{sx:{mb:2},children:Object(H.jsx)(_.a,{children:Object(H.jsxs)(O.a,{disableElevation:!0,fullWidth:!0,size:"small",variant:"outlined",color:"secondary",startIcon:Object(H.jsx)(N.u,{}),onClick:function(){S(!1);var t={};if(e.default&&e.default.length)t=e.default[0];else for(var r=0;r<q.length;r+=1)t[q[r].name]=q[r].default||"";G.push(t),function(e,t,r){var a=Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},r,t));u(a,n)}(k,G,$)},children:["Add ",e.label]})})},$)]},$)}return null})),Object(H.jsx)(j.a,{sx:{mt:2},children:Object(H.jsx)(_.a,{children:Object(H.jsx)(O.a,{disableElevation:!0,disabled:w||Object.keys(r).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Continue"})})})]}))}})})})}},291:function(e,t,n){"use strict";var r=n(208),a=n(223),i=n(7),c=n(15),o=n(215),l=n(4),s=n(0),d=n(687),u=n(191),j=n(694),b=n(666),h=n(108),p=n(695),f=n(696),x=n(677),O=n(686),g=n(697),m=n(681),v=n(668),y=n(547),w=n(679),C=n(9),S=n(26),k=n(243),R=n(288),B=n(85),E=n.n(B),M=n(234),D=n.n(M),V=n(235),A=(n(236),n(237),n(238),n(239),n(240),n(246)),P=n(219),W=function(e){return P.a.get("/credentials",{params:{nodeCredentialName:e}})},z=function(e){return P.a.get("/node-credentials/".concat(e))},I=function(e,t){return P.a.get("/credentials/".concat(e),{params:{isEncrypted:t}})},F=function(e){return P.a.post("/credentials",e)},_=function(e,t){return P.a.put("/credentials/".concat(e),t)},T=function(e){return P.a.delete("/credentials/".concat(e))},L=function(e){return P.a.get("/oauth2",{params:{credentialId:e}})},N=function(){return P.a.get("/oauth2-redirecturl")},U=n(220),H=n(259),J=n(33),q=(n(241),n(1)),X=["initialParams","paramsType","initialValues","initialValidation","valueChanged","paramsChanged","onSubmit"],$=Object(C.a)(d.a)(Object(l.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(y.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),G="+ Add New Credential";t.a=function(e){var t=e.initialParams,n=e.paramsType,d=e.initialValues,y=e.initialValidation,C=e.valueChanged,B=e.paramsChanged,M=e.onSubmit,P=Object(o.a)(e,X),Y=Object(H.a)(),K=Object(S.a)(),Q=Object(s.useState)({}),Z=Object(c.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(s.useState)({}),re=Object(c.a)(ne,2),ae=re[0],ie=re[1],ce=Object(s.useState)(""),oe=Object(c.a)(ce,2),le=oe[0],se=oe[1],de=Object(s.useState)([]),ue=Object(c.a)(de,2),je=ue[0],be=ue[1],he=Object(s.useState)([]),pe=Object(c.a)(he,2),fe=pe[0],xe=pe[1],Oe=Object(s.useState)(""),ge=Object(c.a)(Oe,2),me=ge[0],ve=ge[1],ye=Object(U.a)(z),we=Object(U.a)(W),Ce=Object(U.a)(I),Se=function(e){var t=e;t.submit=null,C(t,n)},ke=function(e){if(0===je.length)throw new Error("Credential params empty");for(var t={},n=0;n<je.length;n+=1){var r=je[n].name;r in e&&(t[r]=e[r])}return delete t.name,{name:e.name,nodeCredentialName:e.credentialMethod,credentialData:t}},Re=function(){var e=t.filter((function(e){return je.every((function(t){return e.name!==t.name}))}));be([]),ve(""),B(e,n)},Be=function(e){for(var t=JSON.parse(JSON.stringify(ae)),r=0;r<je.length;r+=1){var a=je[r].name;a in t&&delete t[a]}t=Object(i.a)(Object(i.a)({},t),{},{registeredCredential:e}),C(t,n)},Ee=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:e.sent.data&&(Re(),Be(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=window.screenX+(window.outerWidth-500)/2,n=window.screenY+(window.outerHeight-400)/2.5,r=e;return window.open(r,"Connect Credential","width=".concat(500,",height=").concat(400,",left=").concat(t,",top=").concat(n))},De=function(e,t){return e.find((function(e){return e.name===t}))};return Object(s.useEffect)((function(){if(we.data){var e=[];if(we.data.length)for(var n=0;n<we.data.length;n+=1)e.push({_id:we.data[n]._id,name:we.data[n].name});e.push({name:G}),xe(e),t.find((function(e){return"registeredCredential"===e.name}))&&function(e,t){var n=Object(i.a)(Object(i.a)({},ee),{},Object(l.a)({},e,k.b(Object(l.a)({},t,k.c().required("".concat(e," is required"))))));te(n)}("registeredCredential","name")}}),[we.data]),Object(s.useEffect)((function(){if(ye.data){var e=ye.data.credentials;e.unshift({label:"Credential Name",name:"name",type:"string",default:""}),be(e);for(var r=t,a=function(n){var a=e[n].name;void 0===t.find((function(e){return e.name===a}))&&r.push(e[n])},i=0;i<e.length;i+=1)a(i);B(r,n)}}),[ye.data]),Object(s.useEffect)((function(){if(Ce.data){var e=Object(i.a)(Object(i.a)(Object(i.a)({},ae),Ce.data.credentialData),{},{name:Ce.data.name});C(e,n)}}),[Ce.data]),Object(s.useEffect)((function(){ie(d),d&&d.credentialMethod&&(we.request(d.credentialMethod),se(d.credentialMethod))}),[d]),Object(s.useEffect)((function(){te(y)}),[y]),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(u.a,{sx:{width:400},children:Object(q.jsx)(R.a,{enableReinitialize:!0,initialValues:ae,validationSchema:k.b().shape(ee),onSubmit:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,c){var o,l,s,d,u,j,b,h,p,f;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.setErrors,l=c.setStatus,s=c.setSubmitting,e.prev=1,!Y.current){e.next=37;break}if((d=t&&t.registeredCredential&&t.registeredCredential.name===G)||0!==je.length&&t.credentialMethod){e.next=10;break}M(t.credentialMethod?Object(i.a)(Object(i.a)({},t),{},{submit:!0}):{submit:!0},n),l({success:!0}),s(!1),e.next=37;break;case 10:if(u=ke(t),!d){e.next=17;break}return e.next=14,F(u);case 14:j=e.sent,e.next=20;break;case 17:return e.next=19,_(t.registeredCredential._id,u);case 19:j=e.sent;case 20:if(!j.data){e.next=36;break}if(!t.credentialMethod.toLowerCase().includes("oauth2")){e.next=29;break}return e.next=24,L(j.data._id);case 24:return b=e.sent,h=Me(b.data),p=function(){var e=Object(a.a)(Object(r.a)().mark((function e(a){var i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"success"===a.data&&(window.removeEventListener("message",p,!1),i={credentialMethod:t.credentialMethod,registeredCredential:{_id:j.data._id,name:j.data.name},submit:!0},Re(),M(i,n),l({success:!0}),s(!1),h&&h.close());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",p,!1),e.abrupt("return");case 29:f={credentialMethod:t.credentialMethod,registeredCredential:{_id:j.data._id,name:j.data.name},submit:!0},Re(),M(f,n),l({success:!0}),s(!1),e.next=37;break;case 36:throw new Error(j);case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(1),console.error(e.t0),Y.current&&(l({success:!1}),o({submit:e.t0.message}),s(!1));case 43:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,c=e.handleBlur,o=e.handleChange,s=e.handleSubmit,y=e.setFieldValue,C=e.isSubmitting,S=e.values;return Object(q.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:s},P),{},{children:[t.map((function(e){if("options"===e.type){var t=e.name,r=e.options||[];return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:t,freeSolo:!0,options:r,value:De(r,S[t])||"",onChange:function(e,n){var r=n?n.name:"";y(t,r);var a=Object(l.a)({},t,r);Se(a),Re(),n?(we.request(r),se(r)):xe([])},onBlur:c,PopperComponent:$,renderInput:function(e){return Object(q.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{value:S[t],error:Boolean(n[t])}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(q.jsx)(h.a,{sx:{p:1},children:t.description})]})}))}}),n[t]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}return null})),t.find((function(e){return"registeredCredential"===e.name}))&&Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:"Registered Credential"}),Object(q.jsx)(p.a,{title:"Select previously registered credential OR add new credential",placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:"registered-credential",freeSolo:!0,options:fe,value:S.registeredCredential&&S.credentialMethod?S.registeredCredential:" ",getOptionLabel:function(e){return e.name||" "},onChange:function(){var e=Object(a.a)(Object(r.a)().mark((function e(t,n){var a,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y("registeredCredential",null!==n?n:d.registeredCredential),a=Object(i.a)(Object(i.a)({},S),{},{registeredCredential:n}),Se(a),!n){e.next=11;break}if(n.name!==G?Ce.request(n._id):Be(n),ye.request(le),!S.credentialMethod.toLowerCase().includes("oauth2")){e.next=11;break}return e.next=9,N();case 9:(c=e.sent).data&&ve(c.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onInputChange:function(e,t){t||(Re(),Be(""))},onBlur:c,PopperComponent:$,renderInput:function(e){return Object(q.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{value:S.registeredCredential,error:Boolean(n.registeredCredential)}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.name})})}))}}),n.registeredCredential&&Object(q.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:"*Registered Credential is required"})]}),S&&S.registeredCredential&&S.registeredCredential._id&&Object(q.jsx)(O.a,{sx:{mb:2},size:"small",variant:"outlined",startIcon:Object(q.jsx)(J.y,{size:15}),onClick:function(){return Ee(S.registeredCredential._id)},children:"Delete Credential"}),me&&Object(q.jsxs)("div",{children:[Object(q.jsx)(h.a,{variant:"overline",children:"OAuth2 Redirect URL"}),Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{sx:{p:1,borderRadius:10,backgroundColor:K.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:me}),Object(q.jsx)(f.a,{title:"Copy URL",color:"primary",onClick:function(){return navigator.clipboard.writeText(me)},children:Object(q.jsx)(J.h,{})})]})]}),S.credentialMethod&&je.map((function(e){if("json"===e.type){var t=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[t]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(E.a,{style:{border:"1px solid",borderColor:K.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden"},onScroll:function(e){return e.stopPropagation()},children:Object(q.jsx)(D.a,{placeholder:e.placeholder,value:S[t]||"",onBlur:function(e){var n=Object(i.a)(Object(i.a)({},S),{},Object(l.a)({},t,e.target.value));Se(n)},onValueChange:function(e){y(t,e)},highlight:function(e){return Object(V.highlight)(e,V.languages.json)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),n[t]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}if("string"===e.type||"password"===e.type||"number"===e.type){var r=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[r]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(g.a,{id:r,type:"string"===e.type||"number"===e.type?"text":e.type,value:S[r]||"",placeholder:e.placeholder,name:r,onBlur:function(e){c(e),Se(S)},onChange:o}),n[r]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[r]]})]},r)}if("boolean"===e.type){var a=e.name;return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[a]),children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(m.a,{checked:!!S[a],onChange:function(e){y(a,e.target.checked);var t=Object(i.a)(Object(i.a)({},S),{},Object(l.a)({},a,e.target.checked));Se(t)},inputProps:{"aria-label":"controlled"}})]},a)}if("options"===e.type){var s=e.name,d=e.options||[];return Object(q.jsxs)(j.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(q.jsxs)(b.a,{direction:"row",children:[Object(q.jsx)(h.a,{variant:"overline",children:e.label}),e.description&&Object(q.jsx)(p.a,{title:e.description,placement:"right",children:Object(q.jsx)(f.a,{children:Object(q.jsx)(v.a,{style:{height:18,width:18}})})})]}),Object(q.jsx)(w.a,{id:s,freeSolo:!0,options:d,value:De(d,S[s])||"",onChange:function(e,t){var n=t?t.name:"";y(s,n);var r=Object(i.a)(Object(i.a)({},S),{},Object(l.a)({},s,n));Se(r)},onBlur:c,PopperComponent:$,renderInput:function(e){return Object(q.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{value:S[s],error:Boolean(n[s])}))},renderOption:function(e,t){return Object(q.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(q.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(q.jsx)(h.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(q.jsx)(h.a,{sx:{p:1},children:t.description})]})}))}}),n[s]&&Object(q.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[s]]})]},s)}return null})),Object(q.jsx)(u.a,{sx:{mt:2},children:Object(q.jsx)(A.a,{children:Object(q.jsx)(O.a,{disableElevation:!0,disabled:C||Object.keys(n).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:S&&S.registeredCredential&&(S.registeredCredential.name===G||je.length)?"Save and Continue":"Continue"})})})]}))}})})})}}}]);
//# sourceMappingURL=3.07e6c58b.chunk.js.map