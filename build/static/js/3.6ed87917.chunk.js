(this["webpackJsonpouterbridge-ui"]=this["webpackJsonpouterbridge-ui"]||[]).push([[3],{213:function(e,t,n){"use strict";n.d(t,"o",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"l",(function(){return b})),n.d(t,"b",(function(){return j})),n.d(t,"n",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return x})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"m",(function(){return C})),n.d(t,"e",(function(){return w}));var a=n(7),r=n(20),i=n(224),o=n.n(i),c=n(310),l=n.n(c),s=/^(\d+\.?\d*|{{.*}})$/,d=function(e,t,n){var a=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={},r={},i=0;i<e.length;i+=1){var o=e[i].id;r[o]=0,a[o]=[]}for(var c=0;c<t.length;c+=1){var l=t[c].source,s=t[c].target;Object.prototype.hasOwnProperty.call(a,l)?a[l].push(s):a[l]=[s],n&&(Object.prototype.hasOwnProperty.call(a,s)?a[s].push(l):a[s]=[l]),r[s]+=1}return{graph:a,nodeDependencies:r}}(e,t,!0),i=function(e,t,n){var a=[],r=[];a.push(e),r.push(e);for(var i=function(){var e=a.shift()||"",i=[],o=t.filter((function(t){return t.target===e&&t.targetHandle.includes("-input-")}));if(o&&o.length)for(var c=0;c<o.length;c+=1)i.push(o[c].source);for(var l=n[e],s=0;s<l.length;s+=1){var d=l[s];i.includes(d)&&(r.includes(d)||(r.push(d),a.push(d)))}};a.length;)i();return r}(n,t,a.graph),o=new Set(i);return o.delete(n),Object(r.a)(o)},u=function(){var e="abcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:15}).map((function(){return e.charAt(Math.floor(Math.random()*e.length))})).join("")},b=function(e,t){for(var n=0,a=0;a<t.length;a+=1){t[a].data.name===e.name&&(n+=1)}for(var r="".concat(e.name,"_").concat(n),i=0;i<t.length;i+=1){t[i].id===r&&(n+=1,r="".concat(e.name,"_").concat(n))}return r},j=function(e,t){for(var n=0;n<t.length;n+=1){if(t[n].data.label===e)return!1}return!0},p=function(e){for(var t={},n=0;n<e.length;n+=1){var a=e[n];if(t[a.name]=a.default||"","array"===a.type&&!a.default){for(var r={},i=0;i<a.array.length;i+=1)r[a.array[i].name]=a.array[i].default||"";t[a.name]=[r]}}return t.submit=null,t},h=function(e,t,n){for(var a=e.incoming||0,r=e.outgoing||0,i=[],o=0;o<a;o+=1){var c={id:"".concat(n,"-input-").concat(o)};i.push(c)}for(var l=[],s=0;s<r;s+=1){var d={id:"".concat(n,"-output-").concat(s)};l.push(d)}return e.inputAnchors=i,e.outputAnchors=l,e.label=function(e,t){for(var n=0,a=0;a<t.length;a+=1)t[a].data.name===e.name&&(n+=1);for(var r="".concat(e.label,"_").concat(n),i=0;i<t.length;i+=1)t[i].data.label===r&&(n+=1,r="".concat(e.label,"_").concat(n));return 0===n?e.label:r}(e,t),e.actions&&(e.actions=p(e.actions)),e.credentials&&(e.credentials=p(e.credentials)),e.networks&&(e.networks=p(e.networks)),e.inputParameters&&(e.inputParameters=p(e.inputParameters)),e},f=function(e){var t=e.split("-");return t.length&&t[0].includes("ifElse")?"0"===t[t.length-1]?"true":"false":""},O=function(e){for(var t=0;t<e.length;t+=1){var n=e[t];if("webhook"===n.data.type||"trigger"===n.data.type)return!0}return!1},x=function(e){if(void 0!==e&&e){var t=l()(e);if(t.isValid)return new Date(t.year(),t.month(),t.date(),t.hours(),t.minutes())}},g=function(e){var t=e.split(",");return t[t.length-1].split(":")[1]},m=function(e){try{for(var t=JSON.parse(e),n=[],a=0;a<t.length;a+=1){var r=t[a].split(","),i=r[r.length-1].split(":")[1];n.push(i)}return n.length?n.join(","):""}catch(o){return""}},v=function(e){for(var t=e.nodes,n=e.edges,r=0;r<t.length;r+=1){t[r].selected=!1;var i=t[r],o={label:i.data.label,name:i.data.name,type:i.data.type,inputAnchors:i.data.inputAnchors,outputAnchors:i.data.outputAnchors,selected:!1};i.data.inputParameters&&(o.inputParameters=Object(a.a)(Object(a.a)({},i.data.inputParameters),{},{submit:null}),i.data.inputParameters.wallet&&delete o.inputParameters.wallet),i.data.actions&&(o.actions=Object(a.a)(Object(a.a)({},i.data.actions),{},{submit:null}),i.data.actions.wallet&&delete o.actions.wallet),i.data.networks&&(o.networks=Object(a.a)(Object(a.a)({},i.data.networks),{},{submit:null}),i.data.networks.wallet&&delete o.networks.wallet),i.data.credentials&&i.data.credentials.credentialMethod&&(o.credentials={credentialMethod:i.data.credentials.credentialMethod,submit:null},i.data.credentials.wallet&&delete o.credentials.wallet),t[r].data=o}return{nodes:t,edges:n}},y=function(e,t,n){if(n[t]&&n[t].credentialMethod){for(var a=e,r=0;r<a.length;r+=1){var i=a[r];if("options"===i.type){var o=i.options.find((function(e){return e.name===n[t].credentialMethod}));if(o&&void 0!==o&&o.hideRegisteredCredential)return!0}}return!1}},C=function(e,t,n,a){return"credentials"!==t||void 0!==e.find((function(e){return"registeredCredential"===e.name}))||void 0===e.find((function(e){return"credentialMethod"===e.name}))||y(o.a.cloneDeep(n),t,a)?("credentials"===t&&void 0!==e.find((function(e){return"registeredCredential"===e.name}))&&void 0!==e.find((function(e){return"credentialMethod"===e.name}))&&y(o.a.cloneDeep(n),t,a)||"credentials"===t&&void 0===e.find((function(e){return"credentialMethod"===e.name})))&&(e=e.filter((function(e){return"registeredCredential"!==e.name}))):e.push({name:"registeredCredential"}),e},w=function(e){var t=e.src;Array.isArray(t)||"object"===typeof t?navigator.clipboard.writeText(JSON.stringify(t,null,"  ")):navigator.clipboard.writeText(t)}},216:function(e,t,n){"use strict";var a=n(7),r=n(214),i=n(0),o=n(27),c=n(710),l=n(711),s=n(109),d=n(193),u=n(712),b=n(1),j=["border","boxShadow","children","content","contentClass","contentSX","darkTitle","secondary","shadow","sx","title"],p={"& .MuiCardHeader-action":{mr:0}},h=Object(i.forwardRef)((function(e,t){var n=e.border,i=void 0===n||n,h=e.boxShadow,f=e.children,O=e.content,x=void 0===O||O,g=e.contentClass,m=void 0===g?"":g,v=e.contentSX,y=void 0===v?{}:v,C=e.darkTitle,w=e.secondary,S=e.shadow,k=e.sx,B=void 0===k?{}:k,R=e.title,I=Object(r.a)(e,j),P=Object(o.a)();return Object(b.jsxs)(c.a,Object(a.a)(Object(a.a)({ref:t},I),{},{sx:Object(a.a)({border:i?"1px solid":"none",borderColor:P.palette.primary[200]+75,":hover":{boxShadow:h?S||"0 2px 14px 0 rgb(32 40 45 / 8%)":"inherit"}},B),children:[!C&&R&&Object(b.jsx)(l.a,{sx:p,title:R,action:w}),C&&R&&Object(b.jsx)(l.a,{sx:p,title:Object(b.jsx)(s.a,{variant:"h3",children:R}),action:w}),R&&Object(b.jsx)(d.a,{}),x&&Object(b.jsx)(u.a,{sx:y,className:m,children:f}),!x&&f]}))}));t.a=h},219:function(e,t,n){"use strict";var a=n(255),r=n.n(a),i=n(34),o=r.a.create({baseURL:"".concat(i.a,"/api/v1"),headers:{"Content-type":"application/json"}});t.a=o},220:function(e,t,n){"use strict";var a=n(208),r=n(221),i=n(12),o=n(0);t.a=function(e){var t=Object(o.useState)(null),n=Object(i.a)(t,2),c=n[0],l=n[1],s=Object(o.useState)(null),d=Object(i.a)(s,2),u=d[0],b=d[1],j=Object(o.useState)(!1),p=Object(i.a)(j,2),h=p[0],f=p[1],O=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r=arguments;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.prev=1,t.next=4,e.apply(void 0,r);case 4:n=t.sent,l(n.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),b(t.t0||"Unexpected Error!");case 11:return t.prev=11,f(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}();return{data:c,error:u,loading:h,request:O}}},229:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(688),r=n(713),i=n(714),o=n(365),c=n(1),l=function(e){var t=e.title;return Object(c.jsx)(r.a,{title:Object(o.a)(t),placement:"right",children:Object(c.jsx)(i.a,{children:Object(c.jsx)(a.a,{style:{height:18,width:18}})})})}},242:function(e,t,n){},246:function(e,t,n){"use strict";var a=n(12),r=n(0),i=n(729),o=n(694),c=n(1),l=Object(r.forwardRef)((function(e,t){var n,r,l,s,d=e.children,u=e.type,b=e.direction,j=e.offset,p=e.scale;switch(b){case"up":case"left":l=j,s=0;break;default:l=0,s=j}var h=Object(i.a)(l,s),f=Object(a.a)(h,2),O=f[0],x=f[1],g=Object(i.a)(l,s),m=Object(a.a)(g,2),v=m[0],y=m[1];switch(u){case"rotate":return Object(c.jsx)(o.a.div,{ref:t,animate:{rotate:360},transition:{repeat:1/0,repeatType:"loop",duration:2,repeatDelay:0},children:d});case"slide":return"up"===b||"down"===b?Object(c.jsx)(o.a.div,{ref:t,animate:{y:void 0!==v?v:""},onHoverEnd:function(){return y()},onHoverStart:function(){return y()},children:d}):Object(c.jsx)(o.a.div,{ref:t,animate:{x:void 0!==O?O:""},onHoverEnd:function(){return x()},onHoverStart:function(){return x()},children:d});default:return"number"===typeof p&&(p={hover:p,tap:p}),Object(c.jsx)(o.a.div,{ref:t,whileHover:{scale:null===(n=p)||void 0===n?void 0:n.hover},whileTap:{scale:null===(r=p)||void 0===r?void 0:r.tap},children:d})}}));l.defaultProps={type:"scale",offset:10,direction:"right",scale:{hover:1,tap:.9}},t.a=l},248:function(e,t,n){"use strict";var a=n(24),r=n(718),i=n(689),o=n(719),c=n(230),l=n.n(c),s=n(213),d=n(1);t.a=function(e){var t=e.show,n=e.dialogProps,c=e.onCancel,u=e.onCopyClick,b=e.enableClipboard,j=document.getElementById("portal"),p=t?Object(d.jsxs)(r.a,{open:t,fullWidth:!0,maxWidth:"md",onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(i.a,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:n.title}),Object(d.jsxs)(o.a,{children:[!b&&Object(d.jsx)(l.a,{src:n.data,enableClipboard:function(e){return Object(s.e)(e)}}),b&&Object(d.jsx)(l.a,{src:n.data,enableClipboard:function(e){return u(e,n.node)}})]})]}):null;return Object(a.createPortal)(p,j)}},260:function(e,t,n){"use strict";var a=n(0);t.a=function(){var e=Object(a.useRef)(!0);return Object(a.useEffect)((function(){return function(){e.current=!1}}),[]),e}},264:function(e,t,n){"use strict";var a=n(7),r=n(20),i=n(0),o=n.n(i),c=n(26),l=n(91),s=n(16),d=[];t.a=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.notifier})).notifications,n=Object(l.b)(),i=n.enqueueSnackbar,u=n.closeSnackbar;o.a.useEffect((function(){t.forEach((function(t){var n,o=t.key,c=t.message,l=t.options,b=void 0===l?{}:l,j=t.dismissed;void 0!==j&&j?u(o):d.includes(o)||(i(c,Object(a.a)(Object(a.a)({key:o},b),{},{onClose:function(e,t,n){b.onClose&&b.onClose(e,t,n)},onExited:function(t,n){var a;e(Object(s.p)(n)),a=n,d=Object(r.a)(d.filter((function(e){return a!==e})))}})),n=o,d=[].concat(Object(r.a)(d),[n]))}))}),[t,u,i,e])}},282:function(e,t,n){"use strict";var a=n(4),r=n(7),i=n(12),o=n(24),c=n(0),l=n(718),s=n(719),d=n(109),u=n(191),b=n(192),j=n(708),p=n(720),h=n(721),f=n(714),O=n(722),x=n(706),g=n(27),m=n(243),v=n.n(m),y=n(230),C=n.n(y),w=n(85),S=n.n(w),k=n(33),B=n(248),R=n(232),I=n.n(R),P=n(233),E=(n(234),n(235),n(236),n(237),n(238),n(319),n(1));t.a=function(e){var t,n=e.show,m=e.dialogProps,y=e.onCancel,w=e.onConfirm,R=document.getElementById("portal"),M=Object(g.a)(),V=Object(c.useState)(""),D=Object(i.a)(V,2),W=D[0],A=D[1],z=Object(c.useState)(null),F=Object(i.a)(z,2),_=F[0],N=F[1],L=Object(c.useState)(!1),T=Object(i.a)(L,2),H=T[0],U=T[1],J=Object(c.useState)(!1),q=Object(i.a)(J,2),X=q[0],G=q[1],$=Object(c.useState)({}),Y=Object(i.a)($,2),K=Y[0],Q=Y[1],Z=Object(c.useState)({}),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)(P.languages.js),re=Object(i.a)(ae,2),ie=re[0],oe=re[1],ce=function(e){if(e.target&&e.target.selectionEnd&&e.target.value){var t=e.target.selectionEnd,n=e.target.value.substring(0,t),a=e.target.value.substring(t,e.target.value.length);ne({textBeforeCursorPosition:n,textAfterCursorPosition:a})}else ne({})},le=function(e,t){for(var n=e.namespace,a="".concat(t.id),r=0;r<n.length;r+=1){var i=n[r];"root"!==i&&(/^\d+$/.test(i)?(a.endsWith(".")&&(a=a.substring(0,a.length-1)),a+="[".concat(i,"]")):a+=i,r!==n.length-1&&(a+="."))}if(te){var o="";o=void 0===te.textBeforeCursorPosition&&void 0===te.textAfterCursorPosition?"".concat(W,"{{".concat(a,"}}")):"".concat(te.textBeforeCursorPosition,"{{").concat(a,"}}").concat(te.textAfterCursorPosition),A(o)}};Object(c.useEffect)((function(){if(m.values&&m.input){var e=m.values,t=m.input;m.arrayItemBody&&(e=m.arrayItemBody.arrayItemValues,t=m.arrayItemBody.arrayItemInput),N(t),A(e[t.name].toString()||""),"json"!==t.type&&"string"!==t.type&&"number"!==t.type||oe(P.languages.json),"code"===t.type&&oe(P.languages.js)}}),[m]);var se=n?Object(E.jsxs)(l.a,{open:n,fullWidth:!0,maxWidth:"lg","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(s.a,{children:Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[_&&("json"===_.type||"string"===_.type||"number"===_.type||"code"===_.type)&&Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)(d.a,{sx:{mb:2,ml:1},variant:"h4",children:"Input"}),Object(E.jsx)(S.a,{style:{border:"1px solid",borderColor:M.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:Object(E.jsx)(I.a,{value:W,onValueChange:function(e){return A(e)},placeholder:_.placeholder,highlight:function(e){return Object(P.highlight)(e,ie)},onMouseUp:function(e){return ce(e)},onBlur:function(e){return ce(e)},padding:10,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"},textareaClassName:"editor__textarea"})})]}),!m.hideVariables&&Object(E.jsxs)("div",{style:{flex:1},children:[Object(E.jsx)(d.a,{sx:{mb:2,ml:2},variant:"h4",children:"Variables"}),0===m.availableNodesForVariable.length&&Object(E.jsx)("div",{style:{padding:10,marginLeft:10},children:Object(E.jsx)("span",{children:"No Variables. Try connect to other nodes. "})}),m.availableNodesForVariable.length>0&&Object(E.jsx)(S.a,{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:Object(E.jsx)(u.a,{sx:{pl:2,pr:2},children:Object(E.jsx)(b.a,{sx:(t={width:"100%",py:0,borderRadius:"10px"},Object(a.a)(t,M.breakpoints.down("md"),{maxWidth:300}),Object(a.a)(t,"& .MuiListItemSecondaryAction-root",{top:22}),Object(a.a)(t,"& .MuiDivider-root",{my:0}),Object(a.a)(t,"& .list-container",{pl:7}),t),children:m.availableNodesForVariable.map((function(e,t){return Object(E.jsx)(u.a,{children:Object(E.jsxs)(j.a,{expanded:H===e.data.label,onChange:(n=e.data.label,function(e,t){U(!!t&&n)}),children:[Object(E.jsx)(p.a,{expandIcon:Object(E.jsx)(v.a,{}),"aria-controls":"".concat(e.data.label,"-content"),id:"".concat(e.data.label,"-header"),children:Object(E.jsx)(d.a,{variant:"h5",children:e.data.label})}),Object(E.jsx)(h.a,{children:Object(E.jsxs)("div",{style:{position:"relative"},children:[Object(E.jsx)(C.a,{collapsed:!0,src:e.data.outputResponses&&e.data.outputResponses.output?e.data.outputResponses.output:{},enableClipboard:function(t){return le(t,e)}}),Object(E.jsx)(f.a,{size:"small",sx:{height:25,width:25,position:"absolute",top:-5,right:5},title:"Expand Variable",color:"primary",onClick:function(){return function(e,t){var n={title:"Variable Data: ".concat(t.data.label),data:e,node:t};Q(n),G(!0)}(e.data.outputResponses&&e.data.outputResponses.output?e.data.outputResponses.output:{},e)},children:Object(E.jsx)(k.b,{})})]})})]})},t);var n}))})})})]}),Object(E.jsx)(B.a,{enableClipboard:!0,show:X,dialogProps:K,onCancel:function(){return G(!1)},onCopyClick:function(e,t){le(e,t),G(!1)}})]})}),Object(E.jsxs)(O.a,{children:[Object(E.jsx)(x.a,{onClick:y,children:m.cancelButtonName}),Object(E.jsx)(x.a,{variant:"contained",onClick:function(){return function(e){if(m.arrayItemBody){var t=Object(r.a)(Object(r.a)({},m.arrayItemBody.arrayItemValues),{},Object(a.a)({},m.arrayItemBody.arrayItemInput.name,e)),n=m.arrayItemBody.initialValues;n[m.arrayItemBody.arrayItemIndex]=t;var i=Object(r.a)(Object(r.a)({},m.values),{},Object(a.a)({},m.input.name,n));w(i)}else{var o,c=Object(r.a)(Object(r.a)({},m.values),{},(o={},Object(a.a)(o,m.input.name,e),Object(a.a)(o,"submit",null),o));w(c)}}(W)},children:m.confirmButtonName})]})]}):null;return Object(o.createPortal)(se,R)}},292:function(e,t,n){"use strict";var a=n(208),r=n(221),i=n(7),o=n(214),c=n(4),l=n(0),s=n(707),d=n(191),u=n(716),b=n(686),j=n(109),p=n(706),h=n(717),f=n(701),O=n(697),x=n(576),g=n(699),m=n(9),v=n(27),y=n(224),C=n.n(y),w=n(244),S=n(290),k=n(85),B=n.n(k),R=n(232),I=n.n(R),P=n(233),E=(n(234),n(235),n(236),n(237),n(238),n(280)),M=n.n(E),V=(n(278),n(229)),D=n(260),W=n(246),A=n(26),z=n(715),F=n(33),_=n(213),N=(n(242),n(1)),L=Object(m.a)(s.a)(Object(c.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(x.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),T=Object(l.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(N.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:a,ref:t,children:n})})),H=function(e){var t=e.initialValues,n=e.arrayParams,a=e.paramsType,r=e.arrayGroupName,o=e.errors,l=e.onArrayInputChange,s=e.onArrayInputBlur,x=e.onArrayItemRemove,m=e.onArrayItemMouseUp,y=e.onEditVariableDialogOpen,w=Object(v.a)(),S=Object(A.c)((function(e){return e.customization})),k=function(e,n,a,r){var o=Object(i.a)(Object(i.a)({},a),{},Object(c.a)({},n,e)),l=t;return l[r]=o,l},R=function(e,t,n,a){var r=k(e,t,n,a);l(r)},E=function(e,t,n,a){var r=k(e,t,n,a);s(r)},D=function(e,t,n){var i=e.target.selectionEnd,o=e.target.value.substring(0,i),c=e.target.value.substring(i,e.target.value.length),l="".concat(a,".").concat(r,"[").concat(n,"].").concat(t);m(!0,{textBeforeCursorPosition:o,textAfterCursorPosition:c,path:l,paramsType:a})};return Object(N.jsx)(N.Fragment,{children:n.map((function(e,a){var r=n[a]||[],c=t[a]||{};return Object(N.jsxs)(d.a,{sx:{p:2,mb:2,backgroundColor:w.palette.secondary.light,borderRadius:"".concat(S.borderRadius,"px"),position:"relative"},children:[n.length>1&&Object(N.jsx)(z.a,{sx:{minHeight:30,height:30,width:30,backgroundColor:w.palette.secondary.light,color:w.palette.secondary.main,position:"absolute",right:-10,top:-10},size:"small",onClick:function(){return function(e){var n=t;n.splice(e,1),x(n),m(!1)}(a)},children:Object(N.jsx)(F.B,{})}),r.map((function(e,t){if("file"===e.type||"folder"===e.type){var n=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][n]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),"file"===e.type&&Object(N.jsx)("span",{style:{fontWeight:"bold",color:w.palette.grey[800],marginBottom:"1rem"},children:c[n]?Object(_.j)(c[n]):"Choose a file to upload"}),"folder"===e.type&&Object(N.jsx)("span",{style:{fontWeight:"bold",color:w.palette.grey[800],marginBottom:"1rem"},children:c[n]?Object(_.k)(c[n]):"Choose a folder to upload"}),Object(N.jsxs)(p.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(N.jsx)(F.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(N.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,a,r){if(e.target.files){var i=e.target.files[0],o=i.name,c=new FileReader;c.onload=function(e){var i;if(null!==e&&void 0!==e&&null!==(i=e.target)&&void 0!==i&&i.result){var c=e.target.result+",filename:".concat(o);t(c,a,n,r)}},c.readAsDataURL(i)}}(e,c,n,a)}}),"folder"===e.type&&Object(N.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,a){if(e.target.files){var r=e.target.files,i=new FileReader;!function e(o,c){if(o>=r.length)R(JSON.stringify(c),n,t,a);else{var l=r[o];i.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var a=t.target.result+",filepath:".concat(l.webkitRelativePath);c.push(a),e(o+1,C.a.cloneDeep(c))}},i.readAsDataURL(l)}}(0,[])}}(e,c,n,a)}})]})]},"".concat(n,"_").concat(t))}if("json"===e.type||"code"===e.type){var r=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][r]),children:[Object(N.jsxs)(b.a,{sx:{position:"relative"},direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description}),Object(N.jsx)(p.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return y(e,c,a)},children:"Edit Variables"})]}),Object(N.jsx)(B.a,{style:{border:"1px solid",borderColor:w.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(N.jsx)(I.a,{placeholder:e.placeholder,value:c[r]||"",onBlur:function(e){E(e.target.value,r,c,a),D(e,r,a)},onValueChange:function(e){return R(e,r,c,a)},onMouseUp:function(e){return D(e,r,a)},highlight:function(t){return Object(P.highlight)(t,"json"===e.type?P.languages.json:P.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})})]},"".concat(r,"_").concat(t))}if("date"===e.type){var l=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][l]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(M.a,{customInput:Object(N.jsx)(T,{}),selected:Object(_.d)(c[l])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;R(t,l,c,a),m(!1)}})]},"".concat(l,"_").concat(t))}if("string"===e.type||"password"===e.type||"number"===e.type){var s=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][s]),children:[Object(N.jsxs)(b.a,{sx:{position:"relative"},direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description}),("string"===e.type||"number"===e.type)&&Object(N.jsx)(p.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return y(e,c,a)},children:"Edit Variables"})]}),Object(N.jsx)(h.a,{id:s,type:"string"===e.type||"number"===e.type?"text":e.type,value:c[s]||"",placeholder:e.placeholder,name:s,onBlur:function(e){var t=e.target.value;E(t,s,c,a),D(e,s,a)},onChange:function(e){var t=e.target.value;R(t,s,c,a)},onMouseUp:function(e){return D(e,s,a)}})]},"".concat(s,"_").concat(t))}if("boolean"===e.type){var x=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][x]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(f.a,{checked:!!c[x],onChange:function(e){R(e.target.checked,x,c,a)},inputProps:{"aria-label":"controlled"}})]},"".concat(x,"_").concat(t))}if("options"===e.type){var v=e.name,S=e.options||[];return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(g.a,{id:v,freeSolo:!0,onOpen:function(){return m(!1)},options:S,value:(k=S,W=c[v],k.find((function(e){return e.name===W}))||""),onChange:function(e,t){var n=t?t.name:"";E(n,v,c,a)},PopperComponent:L,renderInput:function(e){return Object(N.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{value:c[v],error:!!(o&&o.length>0&&o[a])&&Boolean(o[a][v])}))},renderOption:function(e,t){return Object(N.jsx)(d.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)(j.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(N.jsx)(j.a,{sx:{p:1},children:t.description})]})}))}})]},"".concat(v,"_").concat(t))}var k,W;return null}))]},a)}))})},U=n(230),J=n.n(U),q=(n(318),function(e){var t=e.value,n=e.options,a=Object(v.a)(),r=function(e){return n.find((function(t){return t.name===e}))},i=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.inputParameters||""},o=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleParameters||""},c=function(e){var t=n.find((function(t){return t.name===e}));return t&&t.exampleResponse||""};return Object(N.jsxs)(N.Fragment,{children:[r(t)&&i(t)&&Object(N.jsxs)(d.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(N.jsx)(j.a,{sx:{p:1},variant:"h6",children:"Parameters"}),Object(N.jsx)("div",{className:"params",dangerouslySetInnerHTML:{__html:i(t)}})]}),r(t)&&o(t)&&Object(N.jsxs)(d.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(N.jsx)(j.a,{sx:{p:1},variant:"h6",children:"Example Parameters"}),Object(N.jsx)(J.a,{collapsed:!0,src:JSON.parse(o(t)),enableClipboard:function(e){return Object(_.e)(e)}})]}),r(t)&&c(t)&&Object(N.jsxs)(d.a,{sx:{p:1,mt:2,backgroundColor:a.palette.secondary.light,borderRadius:"15px",position:"relative"},children:[Object(N.jsx)(j.a,{sx:{p:1},variant:"h6",children:"Example Response"}),Object(N.jsx)(J.a,{collapsed:!0,src:c(t),enableClipboard:function(e){return Object(_.e)(e)}})]})]})}),X=n(12),G=n(406),$=n(255),Y=n.n($),K=n(34),Q=function(e){var t=e.title,n=e.description,a=e.value,r=e.loadMethod,o=e.loadFromDbCollections,c=e.nodeFlowData,s=e.error,d=e.onChange,u=e.onMenuOpen,p=e.onSetError,h=Object(v.a)(),f={option:function(e,t){return Object(i.a)(Object(i.a)({},e),{},{paddingTop:15,paddingBottom:15,paddingLeft:20,paddingRight:20,cursor:"pointer",fontWeight:"500",backgroundColor:t.isSelected?h.palette.primary.light:"",color:"black","&:hover":{backgroundColor:h.palette.grey[200]}})},control:function(e){return Object(i.a)(Object(i.a)({},e),{},{cursor:"text",backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:6,paddingLeft:6,borderRadius:12,"&:hover":{borderColor:h.palette.grey[700]}})},singleValue:function(e){return Object(i.a)(Object(i.a)({},e),{},{fontWeight:"600"})},menuList:function(e){return Object(i.a)(Object(i.a)({},e),{},{boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"})}},O=Object(l.useState)([]),x=Object(X.a)(O,2),g=x[0],m=x[1];return Object(l.useEffect)((function(){return function(){return m([])}}),[]),Object(l.useEffect)((function(){void 0!==a&&(g.find((function(e){return e.name===a}))||p())}),[g]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:t}),n&&Object(N.jsx)(V.a,{title:n})]}),Object(N.jsxs)("div",{style:{position:"relative"},children:[Object(N.jsx)(G.a,{styles:f,value:function(e){return g.find((function(t){return t.name===e}))}(a)||"",formatOptionLabel:function(e,t){var n=e.label,a=e.description,r=t.context;return Object(N.jsxs)(N.Fragment,{children:["menu"===r&&Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)("div",{children:n}),a&&Object(N.jsx)("span",{style:{fontWeight:400,paddingTop:10,paddingBottom:10},children:a})]}),"value"===r&&Object(N.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(N.jsx)("div",{children:n})})]})},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.name},loadOptions:function(e,t){Y.a.post("".concat(K.a,"/api/v1/node-load-method/").concat(c.name),Object(i.a)(Object(i.a)({},c),{},{loadMethod:r,loadFromDbCollections:o})).then((function(n){var a=function(e){for(var t=e,n=[],a=["show","hide"],r=function(e){for(var r=a[e],i=function(e){var a=t[e],i=a[r];i&&Object.keys(i).forEach((function(e){var t=i[e],o=C.a.get(c,e,"");Array.isArray(t)?("show"!==r||t.includes(o)||n.push(a),"hide"===r&&t.includes(o)&&n.push(a)):"string"===typeof t&&("show"!==r||t===o||new RegExp(t).test(o)||n.push(a),"hide"!==r||t!==o&&!new RegExp(t).test(o)||n.push(a))}))},o=0;o<t.length;o+=1)i(o)},i=0;i<a.length;i+=1)r(i);for(var o=function(e){t=t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(n[e])}))},l=0;l<n.length;l+=1)o(l);return t}((n.data||[]).filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())})));m(a),t(a)}))},defaultOptions:!0,onChange:d,onMenuOpen:u},JSON.stringify(c)),Object(N.jsx)("button",{style:{minHeight:10,height:27,width:30,backgroundColor:"#FAFAFA",color:h.palette.grey[500],position:"absolute",right:10,top:0,bottom:0,margin:"auto",border:"none",cursor:"pointer"},title:"Clear Selection",type:"button",onClick:function(){return d(null)},children:Object(N.jsx)(F.B,{})})]}),s&&Object(N.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:function(e){return e?"*".concat(e.replace(/["]/g,"")):""}(s)}),Object(N.jsx)(q,{value:a,options:g})]})},Z=["params","paramsType","initialValues","nodeParamsValidation","nodeFlowData","valueChanged","onSubmit","setVariableSelectorState","onEditVariableDialogOpen"],ee=Object(m.a)(s.a)(Object(c.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(x.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),te=Object(l.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(N.jsx)("button",{style:{backgroundColor:"#fafafa",paddingTop:8,paddingBottom:8,paddingRight:12,paddingLeft:12,borderRadius:12,width:"100%",height:50,border:"1px solid #BDBDBD",cursor:"pointer",fontWeight:"bold",textAlign:"start",color:"#212121",opacity:.9},type:"button",onClick:a,ref:t,children:n})}));t.a=function(e){var t=e.params,n=e.paramsType,l=e.initialValues,s=e.nodeParamsValidation,x=e.nodeFlowData,m=e.valueChanged,y=e.onSubmit,k=e.setVariableSelectorState,R=e.onEditVariableDialogOpen,E=Object(o.a)(e,Z),A=Object(v.a)(),z=Object(D.a)(),L=function(e){var t=e;t.submit=null,m(t,n)},T=function(e,t){var a=e.target.selectionEnd,r=e.target.value.substring(0,a),i=e.target.value.substring(a,e.target.value.length),o="".concat(n,".").concat(t);k(!0,{textBeforeCursorPosition:r,textAfterCursorPosition:i,path:o,paramsType:n})},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.name===t}))};return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(d.a,{sx:{width:400},children:Object(N.jsx)(S.a,{enableReinitialize:!0,initialValues:l,validationSchema:w.b().shape(s),onSubmit:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,r){var i,o,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.setErrors,o=r.setStatus,c=r.setSubmitting,k(!1);try{z.current&&(t.submit=!0,o({success:!0}),c(!1),y(t,n))}catch(a){console.error(a),z.current&&(o({success:!1}),i({submit:a.message}),c(!1))}case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var a=e.errors,r=e.handleBlur,o=e.handleChange,l=e.handleSubmit,s=e.setFieldValue,v=e.isSubmitting,y=e.values;return Object(N.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:l},E),{},{children:[t.map((function(e){if("file"===e.type||"folder"===e.type){var t=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[t]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),"file"===e.type&&Object(N.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:y[t]?Object(_.j)(y[t]):"Choose a file to upload"}),"folder"===e.type&&Object(N.jsx)("span",{style:{fontWeight:"bold",color:A.palette.grey[800],marginBottom:"1rem"},children:y[t]?Object(_.k)(y[t]):"Choose a folder to upload"}),Object(N.jsxs)(p.a,{variant:"outlined",component:"label",fullWidth:!0,startIcon:Object(N.jsx)(F.z,{}),sx:{marginRight:"1rem"},children:["folder"===e.type?"Upload Folder":"Upload File","file"===e.type&&Object(N.jsx)("input",{type:"file",hidden:!0,onChange:function(e){return function(e,t,n,a){if(k(!1),e.target.files){var r=e.target.files[0],o=r.name,l=new FileReader;l.onload=function(e){var r;if(null!==e&&void 0!==e&&null!==(r=e.target)&&void 0!==r&&r.result){var l=e.target.result+",filename:".concat(o);t(a,l);var s=Object(i.a)(Object(i.a)({},n),{},Object(c.a)({},a,l));L(s)}},l.readAsDataURL(r)}}(e,s,y,t)}}),"folder"===e.type&&Object(N.jsx)("input",{type:"file",directory:"",webkitdirectory:"",hidden:!0,onChange:function(e){return function(e,t,n,a){if(k(!1),e.target.files){var r=e.target.files,o=new FileReader;!function e(l,s){if(l>=r.length){t(a,JSON.stringify(s));var d=Object(i.a)(Object(i.a)({},n),{},Object(c.a)({},a,JSON.stringify(s)));L(d)}else{var u=r[l];o.onload=function(t){var n;if(null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&n.result){var a=t.target.result+",filepath:".concat(u.webkitRelativePath);s.push(a),e(l+1,C.a.cloneDeep(s))}},o.readAsDataURL(u)}}(0,[])}}(e,s,y,t)}})]}),a[t]&&Object(N.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[t]]})]},t)}if("json"===e.type||"code"===e.type){var l=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[l]),children:[Object(N.jsxs)(b.a,{sx:{position:"relative"},direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description}),Object(N.jsx)(p.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return R(e,y)},children:"Edit Variables"})]}),Object(N.jsx)(B.a,{style:{border:"1px solid",borderColor:A.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(N.jsx)(I.a,{placeholder:e.placeholder,value:y[l]||"",onBlur:function(e){var t=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},l,e.target.value));L(t),T(e,l)},onValueChange:function(e){s(l,e)},onMouseUp:function(e){return T(e,l)},highlight:function(t){return Object(P.highlight)(t,"json"===e.type?P.languages.json:P.languages.js)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),a[l]&&Object(N.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[l]]})]},l)}if("date"===e.type){var v=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[v]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(M.a,{customInput:Object(N.jsx)(te,{}),selected:Object(_.d)(y[v])||null,showTimeSelect:!0,isClearable:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",onChange:function(e){var t=e?e.toISOString():null;k(!1),s(v,t);var n=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},v,t));L(n)}}),a[v]&&Object(N.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[v]]})]},v)}if("string"===e.type||"password"===e.type||"number"===e.type){var w=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[w]),children:[Object(N.jsxs)(b.a,{sx:{position:"relative"},direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description}),("string"===e.type||"number"===e.type)&&Object(N.jsx)(p.a,{sx:{position:"absolute",fontSize:"0.6875rem",right:0,top:5,height:25,width:"max-content"},variant:"outlined",onClick:function(){return R(e,y)},children:"Edit Variables"})]}),Object(N.jsx)(h.a,{id:w,type:"string"===e.type||"number"===e.type?"text":e.type,placeholder:e.placeholder,multiline:!!e.rows,maxRows:e.rows||0,minRows:e.rows||0,value:y[w]||"",name:w,onBlur:function(e){r(e),L(y),T(e,w)},onMouseUp:function(e){return T(e,w)},onChange:o}),a[w]&&Object(N.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[w]]})]},w)}if("boolean"===e.type){var S=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(a[S]),children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(f.a,{checked:!!y[S],onChange:function(e){k(!1),s(S,e.target.checked);var t=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},S,e.target.checked));L(t)},inputProps:{"aria-label":"controlled"}})]},S)}if("asyncOptions"===e.type){var E=e.name;return Object(N.jsx)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},children:Object(N.jsx)(Q,{title:e.label,description:e.description,value:y[E],loadMethod:e.loadMethod,loadFromDbCollections:e.loadFromDbCollections||[],nodeFlowData:x,error:JSON.stringify(a[E]),onChange:function(e){var t=e?e.name:"";s(E,t);var n=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},E,t));L(n)},onMenuOpen:function(){return k(!1)},onSetError:function(){s(E,"")}})},E)}if("options"===e.type){var D=e.name;return Object(N.jsxs)(u.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(g.a,{id:D,freeSolo:!0,onOpen:function(){return k(!1)},options:e.options||[],value:U(e.options,y[D])||"",onChange:function(e,t){var n=t?t.name:"";s(D,n);var a=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},D,n));L(a)},onInputChange:function(e,t){t||s(D,"")},onBlur:r,PopperComponent:ee,renderInput:function(e){return Object(N.jsx)(O.a,Object(i.a)(Object(i.a)({},e),{},{value:y[D],error:Boolean(a[D])}))},renderOption:function(e,t){return Object(N.jsx)(d.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(N.jsx)(j.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(N.jsx)(j.a,{sx:{p:1},children:t.description})]})}))}}),a[D]&&Object(N.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",a[D]]}),Object(N.jsx)(q,{value:y[D],options:e.options||[]})]},D)}if("array"===e.type){var z=e.arrayParams,J=e.array,X=e.name,G=y[X]||[];return Object(N.jsxs)(b.a,{sx:{mt:1},children:[Object(N.jsxs)(b.a,{direction:"row",children:[Object(N.jsx)(j.a,{variant:"overline",children:e.label}),e.description&&Object(N.jsx)(V.a,{title:e.description})]}),Object(N.jsx)(H,{initialValues:G,arrayParams:z,paramsType:n,arrayGroupName:X,errors:a[X]?a[X]:[],onArrayInputChange:function(e){s(X,e)},onArrayInputBlur:function(e){s(X,e);var t=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},X,e));L(t)},onArrayItemRemove:function(e){s(X,e);var t=Object(i.a)(Object(i.a)({},y),{},Object(c.a)({},X,e));L(t)},onArrayItemMouseUp:function(e,t){t?k(e,t):k(e)},onEditVariableDialogOpen:function(t,n,a){R(e,y,{arrayItemInput:t,arrayItemValues:n,arrayItemIndex:a,initialValues:G})}}),Object(N.jsx)(d.a,{sx:{mb:2},children:Object(N.jsx)(W.a,{children:Object(N.jsxs)(p.a,{disableElevation:!0,fullWidth:!0,size:"small",variant:"outlined",color:"secondary",startIcon:Object(N.jsx)(F.u,{}),onClick:function(){k(!1);var t={};if(e.default&&e.default.length)t=e.default[0];else for(var a=0;a<J.length;a+=1)t[J[a].name]=J[a].default||"";G.push(t),function(e,t,a){var r=Object(i.a)(Object(i.a)({},e),{},Object(c.a)({},a,t));m(r,n)}(y,G,X)},children:["Add ",e.label]})})},X)]},X)}return null})),Object(N.jsx)(d.a,{sx:{mt:2},children:Object(N.jsx)(W.a,{children:Object(N.jsx)(p.a,{disableElevation:!0,disabled:v||Object.keys(a).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Continue"})})})]}))}})})})}},293:function(e,t,n){"use strict";var a=n(208),r=n(221),i=n(7),o=n(12),c=n(214),l=n(4),s=n(0),d=n(707),u=n(191),b=n(716),j=n(686),p=n(109),h=n(697),f=n(706),O=n(714),x=n(717),g=n(701),m=n(576),v=n(699),y=n(9),C=n(27),w=n(244),S=n(290),k=n(85),B=n.n(k),R=n(232),I=n.n(R),P=n(233),E=(n(234),n(235),n(236),n(237),n(238),n(246)),M=n(219),V=function(e){return M.a.get("/credentials",{params:{nodeCredentialName:e}})},D=function(e){return M.a.get("/node-credentials/".concat(e))},W=function(e,t){return M.a.get("/credentials/".concat(e),{params:{isEncrypted:t}})},A=function(e){return M.a.post("/credentials",e)},z=function(e,t){return M.a.put("/credentials/".concat(e),t)},F=function(e){return M.a.delete("/credentials/".concat(e))},_=function(e){return M.a.get("/oauth2",{params:{credentialId:e}})},N=function(){return M.a.get("/oauth2-redirecturl")},L=n(220),T=n(260),H=n(33),U=(n(242),n(229)),J=n(1),q=["initialParams","paramsType","initialValues","initialValidation","valueChanged","paramsChanged","onSubmit"],X=Object(y.a)(d.a)(Object(l.a)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px"},"& .".concat(m.a.listbox),{boxSizing:"border-box","& ul":{padding:10,margin:10}})),G="+ Add New Credential";t.a=function(e){var t=e.initialParams,n=e.paramsType,d=e.initialValues,m=e.initialValidation,y=e.valueChanged,k=e.paramsChanged,R=e.onSubmit,M=Object(c.a)(e,q),$=Object(T.a)(),Y=Object(C.a)(),K=Object(s.useState)({}),Q=Object(o.a)(K,2),Z=Q[0],ee=Q[1],te=Object(s.useState)({}),ne=Object(o.a)(te,2),ae=ne[0],re=ne[1],ie=Object(s.useState)(""),oe=Object(o.a)(ie,2),ce=oe[0],le=oe[1],se=Object(s.useState)([]),de=Object(o.a)(se,2),ue=de[0],be=de[1],je=Object(s.useState)([]),pe=Object(o.a)(je,2),he=pe[0],fe=pe[1],Oe=Object(s.useState)(""),xe=Object(o.a)(Oe,2),ge=xe[0],me=xe[1],ve=Object(L.a)(D),ye=Object(L.a)(V),Ce=Object(L.a)(W),we=function(e){var t=e;t.submit=null,y(t,n)},Se=function(e){if(0===ue.length)throw new Error("Credential params empty");for(var t={},n=0;n<ue.length;n+=1){var a=ue[n].name;a in e&&(t[a]=e[a])}return delete t.name,{name:e.name,nodeCredentialName:e.credentialMethod,credentialData:t}},ke=function(){var e=t.filter((function(e){return ue.every((function(t){return e.name!==t.name}))}));be([]),me(""),k(e,n)},Be=function(e){for(var t=JSON.parse(JSON.stringify(ae)),a=0;a<ue.length;a+=1){var r=ue[a].name;r in t&&delete t[r]}t=Object(i.a)(Object(i.a)({},t),{},{registeredCredential:e}),y(t,n)},Re=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t);case 2:e.sent.data&&(ke(),Be(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=window.screenX+(window.outerWidth-500)/2,n=window.screenY+(window.outerHeight-400)/2.5,a=e;return window.open(a,"Connect Credential","width=".concat(500,",height=").concat(400,",left=").concat(t,",top=").concat(n))},Pe=function(e,t){return e.find((function(e){return e.name===t}))};return Object(s.useEffect)((function(){if(ye.data){var e=[];if(ye.data.length)for(var n=0;n<ye.data.length;n+=1)e.push({_id:ye.data[n]._id,name:ye.data[n].name});e.push({name:G}),fe(e),t.find((function(e){return"registeredCredential"===e.name}))&&function(e,t){var n=Object(i.a)(Object(i.a)({},Z),{},Object(l.a)({},e,w.b(Object(l.a)({},t,w.c().required("".concat(e," is required"))))));ee(n)}("registeredCredential","name")}}),[ye.data]),Object(s.useEffect)((function(){if(ve.data){var e=ve.data.credentials;e.unshift({label:"Credential Name",name:"name",type:"string",default:""}),be(e);for(var a=t,r=function(n){var r=e[n].name;void 0===t.find((function(e){return e.name===r}))&&a.push(e[n])},i=0;i<e.length;i+=1)r(i);k(a,n)}}),[ve.data]),Object(s.useEffect)((function(){if(Ce.data){var e=Object(i.a)(Object(i.a)(Object(i.a)({},ae),Ce.data.credentialData),{},{name:Ce.data.name});y(e,n)}}),[Ce.data]),Object(s.useEffect)((function(){re(d),d&&d.credentialMethod&&(ye.request(d.credentialMethod),le(d.credentialMethod))}),[d]),Object(s.useEffect)((function(){ee(m)}),[m]),Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(u.a,{sx:{width:400},children:Object(J.jsx)(S.a,{enableReinitialize:!0,initialValues:ae,validationSchema:w.b().shape(Z),onSubmit:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,o){var c,l,s,d,u,b,j,p,h,f;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o.setErrors,l=o.setStatus,s=o.setSubmitting,e.prev=1,!$.current){e.next=37;break}if((d=t&&t.registeredCredential&&t.registeredCredential.name===G)||0!==ue.length&&t.credentialMethod){e.next=10;break}R(t.credentialMethod?Object(i.a)(Object(i.a)({},t),{},{submit:!0}):{submit:!0},n),l({success:!0}),s(!1),e.next=37;break;case 10:if(u=Se(t),!d){e.next=17;break}return e.next=14,A(u);case 14:b=e.sent,e.next=20;break;case 17:return e.next=19,z(t.registeredCredential._id,u);case 19:b=e.sent;case 20:if(!b.data){e.next=36;break}if(!t.credentialMethod.toLowerCase().includes("oauth2")){e.next=29;break}return e.next=24,_(b.data._id);case 24:return j=e.sent,p=Ie(j.data),h=function(){var e=Object(r.a)(Object(a.a)().mark((function e(r){var i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"success"===r.data&&(window.removeEventListener("message",h,!1),i={credentialMethod:t.credentialMethod,registeredCredential:{_id:b.data._id,name:b.data.name},submit:!0},ke(),R(i,n),l({success:!0}),s(!1),p&&p.close());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),window.addEventListener("message",h,!1),e.abrupt("return");case 29:f={credentialMethod:t.credentialMethod,registeredCredential:{_id:b.data._id,name:b.data.name},submit:!0},ke(),R(f,n),l({success:!0}),s(!1),e.next=37;break;case 36:throw new Error(b);case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(1),console.error(e.t0),$.current&&(l({success:!1}),c({submit:e.t0.message}),s(!1));case 43:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,o=e.handleBlur,c=e.handleChange,s=e.handleSubmit,m=e.setFieldValue,y=e.isSubmitting,C=e.values;return Object(J.jsxs)("form",Object(i.a)(Object(i.a)({noValidate:!0,onSubmit:s},M),{},{children:[t.map((function(e){if("options"===e.type){var t=e.name,a=e.options||[];return Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(J.jsx)(U.a,{title:e.description})]}),Object(J.jsx)(v.a,{id:t,freeSolo:!0,options:a,value:Pe(a,C[t])||"",onChange:function(e,n){var a=n?n.name:"";m(t,a);var r=Object(l.a)({},t,a);we(r),ke(),n?(ye.request(a),le(a)):fe([])},onBlur:o,PopperComponent:X,renderInput:function(e){return Object(J.jsx)(h.a,Object(i.a)(Object(i.a)({},e),{},{value:C[t],error:Boolean(n[t])}))},renderOption:function(e,t){return Object(J.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(J.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(J.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}}),n[t]&&Object(J.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}return null})),t.find((function(e){return"registeredCredential"===e.name}))&&Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:"Registered Credential"}),Object(J.jsx)(U.a,{title:"Select previously registered credential OR add new credential"})]}),Object(J.jsx)(v.a,{id:"registered-credential",freeSolo:!0,options:he,value:C.registeredCredential&&C.credentialMethod?C.registeredCredential:" ",getOptionLabel:function(e){return e.name||" "},onChange:function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m("registeredCredential",null!==n?n:d.registeredCredential),r=Object(i.a)(Object(i.a)({},C),{},{registeredCredential:n}),we(r),!n){e.next=11;break}if(n.name!==G?Ce.request(n._id):Be(n),ve.request(ce),!C.credentialMethod.toLowerCase().includes("oauth2")){e.next=11;break}return e.next=9,N();case 9:(o=e.sent).data&&me(o.data);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onInputChange:function(e,t){t||(ke(),Be(""))},onBlur:o,PopperComponent:X,renderInput:function(e){return Object(J.jsx)(h.a,Object(i.a)(Object(i.a)({},e),{},{value:C.registeredCredential,error:Boolean(n.registeredCredential)}))},renderOption:function(e,t){return Object(J.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(J.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(J.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.name})})}))}}),n.registeredCredential&&Object(J.jsx)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:"*Registered Credential is required"})]}),C&&C.registeredCredential&&C.registeredCredential._id&&Object(J.jsx)(f.a,{sx:{mb:2},size:"small",variant:"outlined",startIcon:Object(J.jsx)(H.y,{size:15}),onClick:function(){return Re(C.registeredCredential._id)},children:"Delete Credential"}),ge&&Object(J.jsxs)("div",{children:[Object(J.jsx)(p.a,{variant:"overline",children:"OAuth2 Redirect URL"}),Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{sx:{p:1,borderRadius:10,backgroundColor:Y.palette.primary.light,width:"max-content",height:"max-content"},variant:"h5",children:ge}),Object(J.jsx)(O.a,{title:"Copy URL",color:"primary",onClick:function(){return navigator.clipboard.writeText(ge)},children:Object(J.jsx)(H.h,{})})]})]}),C.credentialMethod&&ue.map((function(e){if("json"===e.type){var t=e.name;return Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[t]),children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(J.jsx)(U.a,{title:e.description})]}),Object(J.jsx)(B.a,{style:{border:"1px solid",borderColor:Y.palette.grey[500],borderRadius:"12px",height:"200px",maxHeight:"200px",overflowX:"hidden",backgroundColor:"white"},onScroll:function(e){return e.stopPropagation()},children:Object(J.jsx)(I.a,{placeholder:e.placeholder,value:C[t]||"",onBlur:function(e){var n=Object(i.a)(Object(i.a)({},C),{},Object(l.a)({},t,e.target.value));we(n)},onValueChange:function(e){m(t,e)},highlight:function(e){return Object(P.highlight)(e,P.languages.json)},padding:10,style:{fontSize:"0.875rem",minHeight:"200px",width:"100%"},textareaClassName:"editor__textarea"})}),n[t]&&Object(J.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[t]]})]},t)}if("string"===e.type||"password"===e.type||"number"===e.type){var a=e.name;return Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[a]),children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(J.jsx)(U.a,{title:e.description})]}),Object(J.jsx)(x.a,{id:a,type:"string"===e.type||"number"===e.type?"text":e.type,value:C[a]||"",placeholder:e.placeholder,name:a,onBlur:function(e){o(e),we(C)},onChange:c}),n[a]&&Object(J.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[a]]})]},a)}if("boolean"===e.type){var r=e.name;return Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},error:Boolean(n[r]),children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(J.jsx)(U.a,{title:e.description})]}),Object(J.jsx)(g.a,{checked:!!C[r],onChange:function(e){m(r,e.target.checked);var t=Object(i.a)(Object(i.a)({},C),{},Object(l.a)({},r,e.target.checked));we(t)},inputProps:{"aria-label":"controlled"}})]},r)}if("options"===e.type){var s=e.name,d=e.options||[];return Object(J.jsxs)(b.a,{fullWidth:!0,sx:{mb:1,mt:1},children:[Object(J.jsxs)(j.a,{direction:"row",children:[Object(J.jsx)(p.a,{variant:"overline",children:e.label}),e.description&&Object(J.jsx)(U.a,{title:e.description})]}),Object(J.jsx)(v.a,{id:s,freeSolo:!0,options:d,value:Pe(d,C[s])||"",onChange:function(e,t){var n=t?t.name:"";m(s,n);var a=Object(i.a)(Object(i.a)({},C),{},Object(l.a)({},s,n));we(a)},onBlur:o,PopperComponent:X,renderInput:function(e){return Object(J.jsx)(h.a,Object(i.a)(Object(i.a)({},e),{},{value:C[s],error:Boolean(n[s])}))},renderOption:function(e,t){return Object(J.jsx)(u.a,Object(i.a)(Object(i.a)({component:"li"},e),{},{children:Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(J.jsx)(p.a,{sx:{p:1},variant:"h5",children:t.label}),t.description&&Object(J.jsx)(p.a,{sx:{p:1},children:t.description})]})}))}}),n[s]&&Object(J.jsxs)("span",{style:{color:"red",fontSize:"0.7rem",fontStyle:"italic"},children:["*",n[s]]})]},s)}return null})),Object(J.jsx)(u.a,{sx:{mt:2},children:Object(J.jsx)(E.a,{children:Object(J.jsx)(f.a,{disableElevation:!0,disabled:y||Object.keys(n).length>0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:C&&C.registeredCredential&&(C.registeredCredential.name===G||ue.length)?"Save and Continue":"Continue"})})})]}))}})})})}},318:function(e,t,n){},319:function(e,t,n){}}]);
//# sourceMappingURL=3.6ed87917.chunk.js.map